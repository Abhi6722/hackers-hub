"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9349],{4137:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,f=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(f,a(a({ref:t},c),{},{components:n})):r.createElement(f,a({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var u=2;u<o;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8448:function(e,t,n){var r=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,i=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:i},t)}},7225:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(7462),i=n(7294),o=n(1048),a=n(2713);var s=function(){var e=(0,i.useContext)(a.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=n(3309),u=n(6010),c="tabItem_vU9c";function p(e){var t,n,r,o=e.lazy,a=e.block,p=e.defaultValue,d=e.values,m=e.groupId,f=e.className,v=i.Children.map(e.children,(function(e){if((0,i.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=d?d:v.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),b=(0,l.lx)(h,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===p?p:null!=(t=null!=p?p:null==(n=v.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(r=v[0])?void 0:r.props.value;if(null!==g&&!h.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=s(),k=w.tabGroupChoices,y=w.setTabGroupChoices,j=(0,i.useState)(g),E=j[0],N=j[1],O=[],x=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var T=k[m];null!=T&&T!==E&&h.some((function(e){return e.value===T}))&&N(T)}var C=function(e){var t=e.currentTarget,n=O.indexOf(t),r=h[n].value;r!==E&&(x(t),N(r),null!=m&&y(m,r))},D=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r=O.indexOf(e.currentTarget)+1;n=O[r]||O[0];break;case"ArrowLeft":var i=O.indexOf(e.currentTarget)-1;n=O[i]||O[O.length-1]}null==(t=n)||t.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":a},f)},h.map((function(e){var t=e.value,n=e.label;return i.createElement("li",{role:"tab",tabIndex:E===t?0:-1,"aria-selected":E===t,className:(0,u.Z)("tabs__item",c,{"tabs__item--active":E===t}),key:t,ref:function(e){return O.push(e)},onKeyDown:D,onFocus:C,onClick:C},null!=n?n:t)}))),o?(0,i.cloneElement)(v.filter((function(e){return e.props.value===E}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==E})}))))}function d(e){var t=(0,o.Z)();return i.createElement(p,(0,r.Z)({key:String(t)},e))}},2713:function(e,t,n){var r=(0,n(7294).createContext)(void 0);t.Z=r},7494:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var r=n(7462),i=n(3366),o=(n(7294),n(4137)),a=(n(7225),n(8448),["components"]),s={id:"wdio-eslinter-service",title:"Auto-detect missing imports w/eslint Service",custom_edit_url:"https://github.com/jamesmortensen/wdio-eslinter-service/edit/master//README.md"},l=void 0,u={unversionedId:"wdio-eslinter-service",id:"wdio-eslinter-service",isDocsHomePage:!1,title:"Auto-detect missing imports w/eslint Service",description:"wdio-eslinter-service is a 3rd party package, for more information please see GitHub | npm",source:"@site/docs/_wdio-eslinter-service.md",sourceDirName:".",slug:"/wdio-eslinter-service",permalink:"/docs/wdio-eslinter-service",editUrl:"https://github.com/jamesmortensen/wdio-eslinter-service/edit/master//README.md",tags:[],version:"current",frontMatter:{id:"wdio-eslinter-service",title:"Auto-detect missing imports w/eslint Service",custom_edit_url:"https://github.com/jamesmortensen/wdio-eslinter-service/edit/master//README.md"},sidebar:"docs",previous:{title:"Library of useful expected conditions Service",permalink:"/docs/wdio-wait-for"},next:{title:"Microsoft Teams Service",permalink:"/docs/wdio-ms-teams-service"}},c=[{value:"Installation",id:"installation",children:[],level:2},{value:"Using in WebdriverIO",id:"using-in-webdriverio",children:[],level:2}],p={toc:c};function d(e){var t=e.components,n=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"wdio-eslinter-service is a 3rd party package, for more information please see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/jamesmortensen/wdio-eslinter-service"},"GitHub")," | ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/wdio-eslinter-service"},"npm"))),(0,o.kt)("p",null,"Have you ever run your e2e tests, only to find out 10, 15, or 30 minutes later that there was a missing/misspelled import, which didn't appear until the middle of the test run?  When this happens, the test runner reports these tests as broken."),(0,o.kt)("p",null,"eslint is a great tool for catching different errors pre-runtime, and this service runs the eslint tool, prior to executing WebdriverIO tests, as an automated step instead of a manual one."),(0,o.kt)("p",null,"It's oftentimes better to fail faster so we can fix problems sooner rather than later."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"Install the wdio-eslinter-service:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ npm i wdio-eslinter-service --save-dev \n")),(0,o.kt)("p",null,"If you don't already have eslint installed and configured, you'll need to install it and configure it in your project:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ npm i eslint eslint-plugin-import\n")),(0,o.kt)("p",null,"Put ",(0,o.kt)("inlineCode",{parentName:"p"},".eslintrc.js")," in the root of your Node.js project:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'// .eslintrc.js\nmodule.exports = {\n    "parserOptions": {\n        "ecmaVersion": 2018\n    },\n    "plugins": [\n        "import"\n    ],\n    "rules": {\n        "import/no-unresolved": [\n            2,\n            {\n                "commonjs": true,\n                "amd": false,\n                "caseSensitive": true\n            }\n        ]\n    }\n}\n')),(0,o.kt)("p",null,"By default, this minimal configuration checks for unresolved require imports and throws an error if unresolved imports are found. The service then stops execution. You can customize .eslintrc.js to perform more checks, if desired. See ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/eslint"},"eslint")," for more details."),(0,o.kt)("p",null,"Inside your ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),", add this entry to your run scripts:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "scripts": {\n        "eslint": "eslint ."\n    }\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NOTE: Adding eslint to the package.json is required for the service to function.")),(0,o.kt)("p",null,"Lastly, add the ",(0,o.kt)("inlineCode",{parentName:"p"},"eslinter")," service to the services array in ",(0,o.kt)("inlineCode",{parentName:"p"},"wdio.conf.js"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"    services: ['eslinter']\n")),(0,o.kt)("p",null,"Run ",(0,o.kt)("inlineCode",{parentName:"p"},"npm run eslint")," to verify and check for errors."),(0,o.kt)("h2",{id:"using-in-webdriverio"},"Using in WebdriverIO"),(0,o.kt)("p",null,"Start WebdriverIO's test runner as normal. eslint will check the code. If errors are found, execution immediately ceases."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ npx wdio\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ npx wdio --spec ./test/specs/example.e2e.js \n\nExecution of 1 spec files started at 2021-05-15T12:04:05.388Z\n\n2021-05-15T12:04:05.793Z WARN wdio-eslinter-service: initialize wdio-eslint-service using npm runner.\nDeleted files and directories:\n /Users/jem/Dev/wdio-example/allure-results\n\n/Users/jem/Dev/wdio-example/test/specs/login.js\n  1:22  error  Unable to resolve path to module '.../pageObjects/Auth.page'  import/no-unresolved\n\n\u2716 1 problem (1 error, 0 warnings)\n\n2021-05-15T12:04:08.581Z ERROR wdio-eslinter-service: SEVERE: Code contains eslint errors or eslint not installed.\n")))}d.isMDXComponent=!0}}]);