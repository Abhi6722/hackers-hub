"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2712],{4137:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(n),m=o,f=c["".concat(s,".").concat(m)]||c[m]||d[m]||a;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var u=2;u<a;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},8448:function(e,t,n){var r=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,o=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:o},t)}},7225:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(7462),o=n(7294),a=n(1048),l=n(2713);var i=function(){var e=(0,o.useContext)(l.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},s=n(3309),u=n(6010),p="tabItem_vU9c";function d(e){var t,n,r,a=e.lazy,l=e.block,d=e.defaultValue,c=e.values,m=e.groupId,f=e.className,h=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=c?c:h.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),k=(0,s.lx)(v,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===d?d:null!=(t=null!=d?d:null==(n=h.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(r=h[0])?void 0:r.props.value;if(null!==g&&!v.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=i(),w=b.tabGroupChoices,N=b.setTabGroupChoices,j=(0,o.useState)(g),y=j[0],O=j[1],R=[],D=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var E=w[m];null!=E&&E!==y&&v.some((function(e){return e.value===E}))&&O(E)}var T=function(e){var t=e.currentTarget,n=R.indexOf(t),r=v[n].value;r!==y&&(D(t),O(r),null!=m&&N(m,r))},C=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r=R.indexOf(e.currentTarget)+1;n=R[r]||R[0];break;case"ArrowLeft":var o=R.indexOf(e.currentTarget)-1;n=R[o]||R[R.length-1]}null==(t=n)||t.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":l},f)},v.map((function(e){var t=e.value,n=e.label;return o.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,u.Z)("tabs__item",p,{"tabs__item--active":y===t}),key:t,ref:function(e){return R.push(e)},onKeyDown:C,onFocus:T,onClick:T},null!=n?n:t)}))),a?(0,o.cloneElement)(h.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}function c(e){var t=(0,a.Z)();return o.createElement(d,(0,r.Z)({key:String(t)},e))}},2713:function(e,t,n){var r=(0,n(7294).createContext)(void 0);t.Z=r},4896:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return c}});var r=n(7462),o=n(3366),a=(n(7294),n(4137)),l=(n(7225),n(8448),["components"]),i={id:"wdio-json-reporter",title:"JSON Reporter",custom_edit_url:"https://github.com/fijijavis/wdio-json-reporter/edit/master//README.md"},s=void 0,u={unversionedId:"wdio-json-reporter",id:"wdio-json-reporter",isDocsHomePage:!1,title:"JSON Reporter",description:"wdio-json-reporter is a 3rd party package, for more information please see GitHub | npm",source:"@site/docs/_wdio-json-reporter.md",sourceDirName:".",slug:"/wdio-json-reporter",permalink:"/docs/wdio-json-reporter",editUrl:"https://github.com/fijijavis/wdio-json-reporter/edit/master//README.md",tags:[],version:"current",frontMatter:{id:"wdio-json-reporter",title:"JSON Reporter",custom_edit_url:"https://github.com/fijijavis/wdio-json-reporter/edit/master//README.md"},sidebar:"docs",previous:{title:"HTML Reporter",permalink:"/docs/rpii-wdio-html-reporter"},next:{title:"Mochawesome Reporter",permalink:"/docs/wdio-mochawesome-reporter"}},p=[{value:"WDIO Version Compatibility",id:"wdio-version-compatibility",children:[],level:2},{value:"Installation",id:"installation",children:[],level:2},{value:"Configuration",id:"configuration",children:[{value:"Results to STDOUT",id:"results-to-stdout",children:[],level:3},{value:"Results to File",id:"results-to-file",children:[],level:3},{value:"Results to File with custom file name",id:"results-to-file-with-custom-file-name",children:[],level:3}],level:2},{value:"Result Files",id:"result-files",children:[],level:2},{value:"Installation",id:"installation-1",children:[],level:2},{value:"Configuration",id:"configuration-1",children:[{value:"Standard",id:"standard",children:[],level:3},{value:"Single Results File",id:"single-results-file",children:[],level:3},{value:"Custom File Name",id:"custom-file-name",children:[],level:3},{value:"STDOUT",id:"stdout",children:[],level:3}],level:2}],d={toc:p};function c(e){var t=e.components,n=(0,o.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"wdio-json-reporter is a 3rd party package, for more information please see ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/fijijavis/wdio-json-reporter"},"GitHub")," | ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/wdio-json-reporter"},"npm"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"A WebdriverIO plugin. Report results in json format.")),(0,a.kt)("h2",{id:"wdio-version-compatibility"},"WDIO Version Compatibility"),(0,a.kt)("p",null,"There are breaking changes between WDIO v4 and v5 with how custom reporters work.  The chart below shows the versions of this reporter and their WDIO compatibility version."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"WDIO Json Reporter"),(0,a.kt)("th",{parentName:"tr",align:null},"WDIO"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"^0.4.0"),(0,a.kt)("td",{parentName:"tr",align:null},"v4")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"^1.0.0"),(0,a.kt)("td",{parentName:"tr",align:null},"v5")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"^2.0.0"),(0,a.kt)("td",{parentName:"tr",align:null},"v6")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"^3.0.0"),(0,a.kt)("td",{parentName:"tr",align:null},"v7")))),(0,a.kt)("h1",{id:"wdio-v5-compatibility"},"WDIO v5 Compatibility"),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"NPM")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install wdio-json-reporter --save-dev\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Yarn")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add wdio-json-reporter --dev\n")),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("h3",{id:"results-to-stdout"},"Results to STDOUT"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"reporters: [\n  'dot',\n  ['json',{ stdout: true }]\n],\n")),(0,a.kt)("h3",{id:"results-to-file"},"Results to File"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"reporters: [\n  'dot',\n  ['json',{\n      outputDir: './Results'\n  }]\n],\n")),(0,a.kt)("h3",{id:"results-to-file-with-custom-file-name"},"Results to File with custom file name"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"reporters: [\n  'dot',\n  ['json',{\n    outputDir: './Results',\n    outputFileFormat: function(opts) {\n        return `results-${opts.cid}.${opts.capabilities}.json`\n    }\n  }]\n],\n")),(0,a.kt)("h2",{id:"result-files"},"Result Files"),(0,a.kt)("p",null,'With WDIO v5, reporting has moved from a centralized process to one that is handled by each of the "sessions" spun up for parallel test execution.\nThis change helped reduce the amount of chatter during WDIO test execution and thus improved performance.  The downside is we are no longer able\nto get a single report for ALL test execution.  Consider the following:'),(0,a.kt)("p",null,"2 suites of tests configured to run in 2 browsers:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"WDIO v4: 1 json file with execution results"),(0,a.kt)("li",{parentName:"ul"},"WDIO v5: 4 json files with execution results")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"wdio-json-reporter")," provides a utility function to merge the multiple json files into a single file.  Follow the steps below to take advantage of the utility."),(0,a.kt)("p",null,"1) Create a small node script"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const mergeResults = require('wdio-json-reporter/mergeResults')\nmergeResults('./Results', 'wdio-json-*', 'wdio-custom-filename.json')\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Note:")," ",(0,a.kt)("inlineCode",{parentName:"p"},"wdio-custom-filename.json")," is optional, is the parameter is not provided the default value is ",(0,a.kt)("inlineCode",{parentName:"p"},"wdio-merged.json")),(0,a.kt)("p",null,"2) Call node script from command line and pass 2 arguments"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"<RESULTS_DIR>: Directory where results files are written"),(0,a.kt)("li",{parentName:"ul"},"<FILE_REGEX>: Regex pattern for finding ",(0,a.kt)("inlineCode",{parentName:"li"},"wdio-json-reporter")," result files in <RESULTS_DIR>.  This is necessary because multiple reporters produce ",(0,a.kt)("inlineCode",{parentName:"li"},"json")," result files")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'node mergeResults.json ./Results "wdio-json-*"\n')),(0,a.kt)("p",null,"3) As part of a wdio hook"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// Located in your wdio.conf.js file\nonComplete: function (exitCode, config, capabilities, results) {\n  const mergeResults = require('wdio-json-reporter/mergeResults')\n  mergeResults('./Results', 'results-*', 'wdio-custom-filename.json')\n}\n")),(0,a.kt)("p",null,"Upon completion, the merge script will output a single json file named ",(0,a.kt)("inlineCode",{parentName:"p"},"wdio-merged.json")," in the provided <RESULTS_DIR>"),(0,a.kt)("h1",{id:"wdio-v4-compatibility"},"WDIO v4 Compatibility"),(0,a.kt)("h2",{id:"installation-1"},"Installation"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"NPM")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install wdio-json-reporter@^0.4.0 --save-dev\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Yarn")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add wdio-json-reporter@^0.4.0 --dev\n")),(0,a.kt)("h2",{id:"configuration-1"},"Configuration"),(0,a.kt)("h3",{id:"standard"},"Standard"),(0,a.kt)("p",null,"Following code shows the default wdio test runner configuration. Just add ",(0,a.kt)("inlineCode",{parentName:"p"},"'json'")," as reporter\nto the array. To get some output during the test you can run the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/wdio-dot-reporter"},"WDIO Dot Reporter")," and the WDIO JSON Reporter at the same time:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// wdio.conf.js\nmodule.exports = {\n  // ...\n  reporters: ['dot', 'json'],\n  reporterOptions: {\n    outputDir: './Results'\n  },\n  // ...\n};\n")),(0,a.kt)("h3",{id:"single-results-file"},"Single Results File"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// wdio.conf.js\nmodule.exports = {\n  // ...\n  reporters: ['dot', 'json'],\n  reporterOptions: {\n    outputDir: './',\n    combined: true\n  },\n  // ...\n};\n")),(0,a.kt)("h3",{id:"custom-file-name"},"Custom File Name"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// wdio.conf.js\nmodule.exports = {\n  // ...\n  reporters: ['dot', 'json'],\n  reporterOptions: {\n    outputDir: './',\n    filename: 'wdio-results'\n  },\n  // ...\n};\n")),(0,a.kt)("h3",{id:"stdout"},"STDOUT"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// wdio.conf.js\nmodule.exports = {\n  // ...\n  reporters: ['json'],\n  reporterOptions: {\n    useStdout: true\n  },\n  // ...\n};\n")),(0,a.kt)("p",null,"If you do not want to print out the mocha epilogue (i.e. ",(0,a.kt)("inlineCode",{parentName:"p"},"1 passing (5.2s)"),"), you can suppress it:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// wdio.conf.js\nmodule.exports = {\n  // ...\n  reporters: ['json'],\n  reporterOptions: {\n    suppressEpilogue: true\n  },\n  // ...\n};\n")),(0,a.kt)("p",null,"For more information on WebdriverIO see the ",(0,a.kt)("a",{parentName:"p",href:"http://webdriver.io"},"homepage"),"."))}c.isMDXComponent=!0}}]);