"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1070],{4137:function(e,t,i){i.d(t,{Zo:function(){return m},kt:function(){return u}});var r=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=r.createContext({}),d=function(e){var t=r.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):a(a({},t),e)),i},m=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var i=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=d(i),u=n,h=c["".concat(l,".").concat(u)]||c[u]||p[u]||o;return i?r.createElement(h,a(a({ref:t},m),{},{components:i})):r.createElement(h,a({ref:t},m))}));function u(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=i.length,a=new Array(o);a[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,a[1]=s;for(var d=2;d<o;d++)a[d]=i[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,i)}c.displayName="MDXCreateElement"},6611:function(e,t,i){i.r(t),i.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return m},default:function(){return c}});var r=i(7462),n=i(3366),o=(i(7294),i(4137)),a=["components"],s={id:"v7-migration",title:"From v6 to v7"},l=void 0,d={unversionedId:"v7-migration",id:"v7-migration",isDocsHomePage:!1,title:"From v6 to v7",description:"This tutorial is for people who are still using v6 of WebdriverIO and want to migrate to v7. As mentioned in our release blog post the changes are mostly under the hood and upgrading should be a straight forward process.",source:"@site/docs/v7Migration.md",sourceDirName:".",slug:"/v7-migration",permalink:"/docs/v7-migration",editUrl:"https://github.com/Abhi6722/hackers-hub/edit/main/website/docs/v7Migration.md",tags:[],version:"current",frontMatter:{id:"v7-migration",title:"From v6 to v7"},sidebar:"docs",previous:{title:"From v5 to v6",permalink:"/docs/v6-migration"},next:{title:"From Protractor",permalink:"/docs/protractor-migration"}},m=[{value:"Setup",id:"setup",children:[{value:"Commits:",id:"commits",children:[],level:4}],level:2},{value:"Upgrade WebdriverIO Dependencies",id:"upgrade-webdriverio-dependencies",children:[{value:"Commits:",id:"commits-1",children:[],level:4}],level:2},{value:"Transform Config File",id:"transform-config-file",children:[{value:"Commits:",id:"commits-2",children:[],level:4}],level:2},{value:"Update Step Definitions",id:"update-step-definitions",children:[{value:"Commits:",id:"commits-3",children:[],level:4}],level:2},{value:"Conclusion",id:"conclusion",children:[],level:2}],p={toc:m};function c(e){var t=e.components,i=(0,n.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This tutorial is for people who are still using ",(0,o.kt)("inlineCode",{parentName:"p"},"v6")," of WebdriverIO and want to migrate to ",(0,o.kt)("inlineCode",{parentName:"p"},"v7"),". As mentioned in our ",(0,o.kt)("a",{parentName:"p",href:"https://webdriver.io/blog/2021/02/09/webdriverio-v7-released"},"release blog post")," the changes are mostly under the hood and upgrading should be a straight forward process."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If you are using WebdriverIO ",(0,o.kt)("inlineCode",{parentName:"p"},"v5")," or below, please upgrade to ",(0,o.kt)("inlineCode",{parentName:"p"},"v6")," first. Please checkout our ",(0,o.kt)("a",{parentName:"p",href:"v6-migration"},"v6 migration guide"),"."))),(0,o.kt)("p",null,"While we would love to have a fully automated process for this the reality looks different. Everyone has a different setup. Every step should be seen as guidance and less like a step by step instruction. If you have issues with the migration, don't hesitate to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/discussions/new"},"contact us"),"."),(0,o.kt)("h2",{id:"setup"},"Setup"),(0,o.kt)("p",null,"Similar to other migrations we can use the WebdriverIO ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod"},"codemod"),". For this tutorial we use a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/WarleyGabriel/demo-webdriverio-cucumber"},"boilerplate project")," submitted by a community member and fully migrate it from ",(0,o.kt)("inlineCode",{parentName:"p"},"v6")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"v7"),"."),(0,o.kt)("p",null,"To install the codemod, run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm install jscodeshift @wdio/codemod\n")),(0,o.kt)("h4",{id:"commits"},"Commits:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"install codemod deps")," ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/WarleyGabriel/demo-webdriverio-cucumber/pull/11/commits/6ec9e52038f7e8cb1221753b67040b0f23a8f61a"},"[6ec9e52]"))),(0,o.kt)("h2",{id:"upgrade-webdriverio-dependencies"},"Upgrade WebdriverIO Dependencies"),(0,o.kt)("p",null,"Given that all WebdriverIO versions are tight to each other it is the best to always upgrade to a specific tag, e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"latest"),". To do so we copy all WebdriverIO related dependencies out of our ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," and re-install them via:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm i --save-dev @wdio/allure-reporter@7 @wdio/cli@7 @wdio/cucumber-framework@7 @wdio/local-runner@7 @wdio/spec-reporter@7 @wdio/sync@7 wdio-chromedriver-service@7 wdio-timeline-reporter@7 webdriverio@7\n")),(0,o.kt)("p",null,"Usually WebdriverIO dependencies are part of the dev dependencies, depending on your project this can vary though. After this your ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"package-lock.json")," should be updated. ",(0,o.kt)("strong",{parentName:"p"},"Note:")," these are the dependencies used by the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/WarleyGabriel/demo-webdriverio-cucumber"},"example project"),", yours may differ."),(0,o.kt)("h4",{id:"commits-1"},"Commits:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"updated dependencies")," ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/WarleyGabriel/demo-webdriverio-cucumber/pull/11/commits/7097ab6297ef9f37ead0a9c2ce9fce8d0765458d"},"[7097ab6]"))),(0,o.kt)("h2",{id:"transform-config-file"},"Transform Config File"),(0,o.kt)("p",null,"A good first step is to start with the config file. In WebdriverIO ",(0,o.kt)("inlineCode",{parentName:"p"},"v7")," we don't require to manually register any of the compilers anymore. In fact they need to be removed. This can be done with the codemod full automatically:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npx jscodeshift -t ./node_modules/@wdio/codemod/v7 ./wdio.conf.js\n")),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The codemod doesn't yet support TypeScript projects. See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/issues/10"},(0,o.kt)("inlineCode",{parentName:"a"},"@webdriverio/codemod#10")),". We are working to implement support for it soon. If you are using TypeScript please get involved!"))),(0,o.kt)("h4",{id:"commits-2"},"Commits:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"transpile config file")," ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/WarleyGabriel/demo-webdriverio-cucumber/pull/11/commits/60155346a386380d8a77ae6d1107483043a43994"},"[6015534]"))),(0,o.kt)("h2",{id:"update-step-definitions"},"Update Step Definitions"),(0,o.kt)("p",null,"If you are using Jasmine or Mocha, you are done here. The last step is to update the Cucumber.js imports from ",(0,o.kt)("inlineCode",{parentName:"p"},"cucumber")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"@cucumber/cucumber"),". This can also be done via the codemod automatically:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npx jscodeshift -t ./node_modules/@wdio/codemod/v7 ./src/e2e/*\n")),(0,o.kt)("p",null,"That's it! No more changes necessary \ud83c\udf89"),(0,o.kt)("h4",{id:"commits-3"},"Commits:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"transpile step definitions")," ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/WarleyGabriel/demo-webdriverio-cucumber/pull/11/commits/8c97b90a8b9197c62dffe4e2954f7dad814753cc"},"[8c97b90]"))),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"We hope this tutorial guides you a little bit through the migration process to WebdriverIO ",(0,o.kt)("inlineCode",{parentName:"p"},"v7"),". The community continues to improve the codemod while testing it with various teams in various organisations. Don't hesitate to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/issues/new"},"raise an issue")," if you have feedback or ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/discussions/new"},"start a discussion")," if you struggle during the migration process."))}c.isMDXComponent=!0}}]);