"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8e3],{4137:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),g=c(n),m=r,d=g["".concat(l,".").concat(m)]||g[m]||p[m]||o;return n?a.createElement(d,i(i({ref:t},u),{},{components:n})):a.createElement(d,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},2377:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return g}});var a=n(7462),r=n(3366),o=(n(7294),n(4137)),i=["components"],s={id:"pageobjects",title:"Page Object Pattern"},l=void 0,c={unversionedId:"pageobjects",id:"pageobjects",isDocsHomePage:!1,title:"Page Object Pattern",description:'Version 5 of WebdriverIO was designed with Page Object Pattern support in mind. By introducing the "elements as first class citizens" principle, it is now possible to build up large test suites using this pattern.',source:"@site/docs/PageObjects.md",sourceDirName:".",slug:"/pageobjects",permalink:"/docs/pageobjects",editUrl:"https://github.com/Abhi6722/hackers-hub/edit/main/website/docs/PageObjects.md",tags:[],version:"current",frontMatter:{id:"pageobjects",title:"Page Object Pattern"},sidebar:"docs",previous:{title:"Custom Commands",permalink:"/docs/customcommands"},next:{title:"Debugging",permalink:"/docs/debugging"}},u=[{value:"Making A Page Object",id:"making-a-page-object",children:[],level:2},{value:"<code>Get</code> -ing Your Selectors",id:"get--ing-your-selectors",children:[],level:2},{value:"Chaining Commands",id:"chaining-commands",children:[],level:2},{value:"Using Page Objects In Your Tests",id:"using-page-objects-in-your-tests",children:[],level:2},{value:"Going Further",id:"going-further",children:[],level:2}],p={toc:u};function g(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,'Version 5 of WebdriverIO was designed with Page Object Pattern support in mind. By introducing the "elements as first class citizens" principle, it is now possible to build up large test suites using this pattern.'),(0,o.kt)("p",null,"There are no additional packages required to create page objects. It turns out that clean, modern classes provide all necessary features we need:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"inheritance between page objects"),(0,o.kt)("li",{parentName:"ul"},"lazy loading of elements"),(0,o.kt)("li",{parentName:"ul"},"encapsulation of methods and actions")),(0,o.kt)("p",null,"The goal of using page objects is to abstract any page information away from the actual tests. Ideally, you should store all selectors or specific instructions that are unique for a certain page in a page object, so that you still can run your test after you've completely redesigned your page."),(0,o.kt)("h2",{id:"making-a-page-object"},"Making A Page Object"),(0,o.kt)("p",null,"First off, we need a main page object that we call ",(0,o.kt)("inlineCode",{parentName:"p"},"Page.js"),". It will contain general selectors or methods which all page objects will inherit from."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Page.js\nexport default class Page {\n    constructor() {\n        this.title = 'My Page'\n    }\n\n    async open (path) {\n        await browser.url(path)\n    }\n}\n")),(0,o.kt)("p",null,"We will always ",(0,o.kt)("inlineCode",{parentName:"p"},"export")," an instance of a page object, and never create that instance in the test. Since we are writing end-to-end tests, we always consider the page as a stateless construct","\u2014","just as each HTTP request is a stateless construct."),(0,o.kt)("p",null,"Sure, the browser can carry session information and therefore can display different pages based on different sessions, but this shouldn't be reflected within a page object. These sorts of state changes should live in your actual tests."),(0,o.kt)("p",null,"Let's start testing the first page. For demo purposes, we use ",(0,o.kt)("a",{parentName:"p",href:"http://the-internet.herokuapp.com"},"The Internet")," website by ",(0,o.kt)("a",{parentName:"p",href:"http://elementalselenium.com"},"Elemental Selenium")," as guinea pig. Let's try to build a page object example for the ",(0,o.kt)("a",{parentName:"p",href:"http://the-internet.herokuapp.com/login"},"login page"),"."),(0,o.kt)("h2",{id:"get--ing-your-selectors"},(0,o.kt)("inlineCode",{parentName:"h2"},"Get")," -ing Your Selectors"),(0,o.kt)("p",null,"The first step is to write all important selectors that are required in our ",(0,o.kt)("inlineCode",{parentName:"p"},"login.page")," object as getter functions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// login.page.js\nimport Page from './page'\n\nclass LoginPage extends Page {\n\n    get username () { return $('#username') }\n    get password () { return $('#password') }\n    get submitBtn () { return $('form button[type=\"submit\"]') }\n    get flash () { return $('#flash') }\n    get headerLinks () { return $$('#header a') }\n\n    async open () {\n        await super.open('login')\n    }\n\n    async submit () {\n        await this.submitBtn.click()\n    }\n\n}\n\nexport default new LoginPage()\n")),(0,o.kt)("p",null,"Defining selectors in getter functions might look a little weird, but it\u2019s really useful. These functions are evaluated ",(0,o.kt)("em",{parentName:"p"},"when you access the property"),", not when you generate the object. With that you always request the element before you do an action on it."),(0,o.kt)("h2",{id:"chaining-commands"},"Chaining Commands"),(0,o.kt)("p",null,"WebdriverIO internally remembers the last result of a command. If you chain an element command with an action command, it finds the element from the previous command and uses the result to execute the action. With that you can remove the selector (first parameter) and the command looks as simple as:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"await LoginPage.username.setValue('Max Mustermann')\n")),(0,o.kt)("p",null,"Which is basically the same thing as:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"let elem = await $('#username')\nawait elem.setValue('Max Mustermann')\n")),(0,o.kt)("p",null,"or"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"await $('#username').setValue('Max Mustermann')\n")),(0,o.kt)("h2",{id:"using-page-objects-in-your-tests"},"Using Page Objects In Your Tests"),(0,o.kt)("p",null,"After you've defined the necessary elements and methods for the page, you can start to write the test for it. All you need to do to use the page object is to ",(0,o.kt)("inlineCode",{parentName:"p"},"import")," (or ",(0,o.kt)("inlineCode",{parentName:"p"},"require"),") it. That's it!"),(0,o.kt)("p",null,"Since you exported an already-created instance of the page object, importing it lets you start using it right away."),(0,o.kt)("p",null,"If you use an assertion framework, your tests can be even more expressive:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// login.spec.js\nimport LoginPage from '../pageobjects/login.page'\n\ndescribe('login form', () => {\n    it('should deny access with wrong creds', async () => {\n        await LoginPage.open()\n        await LoginPage.username.setValue('foo')\n        await LoginPage.password.setValue('bar')\n        await LoginPage.submit()\n\n        await expect(LoginPage.flash).toHaveText('Your username is invalid!')\n    })\n\n    it('should allow access with correct creds', async () => {\n        await LoginPage.open()\n        await LoginPage.username.setValue('tomsmith')\n        await LoginPage.password.setValue('SuperSecretPassword!')\n        await LoginPage.submit()\n\n        await expect(LoginPage.flash).toHaveText('You logged into a secure area!')\n    })\n})\n")),(0,o.kt)("p",null,"From the structural side, it makes sense to separate spec files and page objects into different directories. Additionally you can give each page object the ending: ",(0,o.kt)("inlineCode",{parentName:"p"},".page.js"),". This makes it easy to figure out that you actually require a page object if you execute ",(0,o.kt)("inlineCode",{parentName:"p"},"const LoginPage = require('../pageobjects/form.page')"),"."),(0,o.kt)("h2",{id:"going-further"},"Going Further"),(0,o.kt)("p",null,"This is the basic principle of how to write page objects with WebdriverIO. But you can build up way more complex page object structures than this! For example, you might have specific page objects for modals, or split up a huge page object into different classes (each representing a different part of the overall web page) that inherit from the main page object. The pattern really provides a lot of opportunities to separate page information from your tests, which is important to keep your test suite structured and clear in times where the project and number of tests grows."),(0,o.kt)("p",null,"You can find this example (and even more page object examples) in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/webdriverio/tree/main/examples/pageobject"},(0,o.kt)("inlineCode",{parentName:"a"},"example")," folder")," on GitHub."))}g.isMDXComponent=!0}}]);