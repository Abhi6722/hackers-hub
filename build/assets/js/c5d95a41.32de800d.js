"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8867],{4137:function(e,t,o){o.d(t,{Zo:function(){return p},kt:function(){return c}});var r=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(o),c=n,m=d["".concat(s,".").concat(c)]||d[c]||h[c]||a;return o?r.createElement(m,i(i({ref:t},p),{},{components:o})):r.createElement(m,i({ref:t},p))}));function c(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var u=2;u<a;u++)i[u]=o[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,o)}d.displayName="MDXCreateElement"},5893:function(e,t,o){o.r(t),o.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},assets:function(){return p},toc:function(){return h},default:function(){return c}});var r=o(7462),n=o(3366),a=(o(7294),o(4137)),i=["components"],l={title:"WebdriverIO V5 now also supports CucumberJS",author:"Wim Selles",authorURL:"http://github.com/wswebcreation",authorImageURL:"https://avatars2.githubusercontent.com/u/11979740?s=460&v=4"},s=void 0,u={permalink:"/blog/2019/07/11/cucumberjs-v5-released",editUrl:"https://github.com/Abhi6722/hackers-hub/edit/main/website/blog/blog/2019-07-11-cucumberjs-v5-released.md",source:"@site/blog/2019-07-11-cucumberjs-v5-released.md",title:"WebdriverIO V5 now also supports CucumberJS",description:"We are pleased to announce that we now have support for CucumberJS in WebdriverIO V5!!!!",date:"2019-07-11T00:00:00.000Z",formattedDate:"July 11, 2019",tags:[],readingTime:7.14,truncated:!1,authors:[{name:"Wim Selles",url:"http://github.com/wswebcreation",imageURL:"https://avatars2.githubusercontent.com/u/11979740?s=460&v=4"}],prevItem:{title:"Chrome DevTools as Automation Protocol",permalink:"/blog/2019/09/16/devtools"},nextItem:{title:"File Uploads with WebdriverIO",permalink:"/blog/2019/06/25/file-upload"}},p={authorsImageUrls:[void 0]},h=[{value:"Where to start",id:"where-to-start",children:[{value:"NodeJS support",id:"nodejs-support",children:[],level:3},{value:"W3C support",id:"w3c-support",children:[],level:3},{value:"Command changes",id:"command-changes",children:[],level:3},{value:"Breaking changes",id:"breaking-changes",children:[],level:3},{value:"It&#39;s not only WebdriverIO who evolved!",id:"its-not-only-webdriverio-who-evolved",children:[],level:3},{value:"Migration steps",id:"migration-steps",children:[{value:"1. Start with a clean project",id:"1-start-with-a-clean-project",children:[],level:4},{value:"2. Install WebdriverIO CLI",id:"2-install-webdriverio-cli",children:[],level:4},{value:"3. Generate Configuration File",id:"3-generate-configuration-file",children:[],level:4},{value:"4. Create the same folder structure",id:"4-create-the-same-folder-structure",children:[],level:4},{value:"5. Migrate feature file per feature file",id:"5-migrate-feature-file-per-feature-file",children:[],level:4},{value:"6. When you&#39;re done",id:"6-when-youre-done",children:[],level:4}],level:3}],level:2}],d={toc:h};function c(e){var t=e.components,o=(0,n.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"We are pleased to announce that we now have support for CucumberJS in WebdriverIO V5!!!!\nThis has been a great challenge for the project committers so we're all very thankful for the time and effort they put into this.\nSo normally we would say"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm install @wdio/cucumber-framework --save-dev\n")),(0,a.kt)("p",null,"and go with the flow, but this time it is different. When you upgrade to the latest version of the Cucumber framework you also need to upgrade to the ",(0,a.kt)("strong",{parentName:"p"},"latest version of WebdriverIO"),".\nIn this blog post we want to give you some guidelines on how to do that."),(0,a.kt)("h2",{id:"where-to-start"},"Where to start"),(0,a.kt)("p",null,"Upgrading to the latest version of the Cucumber framework isn't that simple, because as said, you also need to migrate to version 5 of WebdriverIO.\nTo understand what you need to do we have created some steps you might want to follow which will make the migration a lot easier for you.\nBut before we explain the steps, you first need to understand the differences between WebdriverIO V4 and WebdriverIO V5."),(0,a.kt)("h3",{id:"nodejs-support"},"NodeJS support"),(0,a.kt)("p",null,"WebdriverIO now needs NodeJS 8 or higher. Be aware that NodeJS 8 will end it's LTS support at the end of 2019, so upgrading to 10 would be better.\nIf you want to know more about the NodeJS LTS support check ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/nodejs/Release"},"this"),". This might help you convince your colleagues / DEVOPS engineers to upgrade you NodeJS instances."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"As a side note, if you want to know what is supported by NodeJS by default you can check ",(0,a.kt)("a",{parentName:"em",href:"https://node.green/"},"node.green")," and follow all upcoming changes.")),(0,a.kt)("h3",{id:"w3c-support"},"W3C support"),(0,a.kt)("p",null,"WebdriverIO is now fully supporting the W3C protocol, this has a lot of advantages, but for your existing scripts some minor downsides.\nOne of the downsides might be that you are using methods that are based on the JSONWire Protocol, that are not supported by the newest drivers like for example ChromeDriver 74+.\nThis might result in errors like for example ",(0,a.kt)("inlineCode",{parentName:"p"},"browser.positionClick() is not a function"),". If you see this error you are using a not supported method for the W3C supported Driver.\nSee the API documentation ",(0,a.kt)("a",{parentName:"p",href:"https://webdriver.io/docs/api.html"},"here")," to see which command is a WebDriver Protocol (W3C) or a JSONWire protocol command."),(0,a.kt)("p",null,"Just a little side note, we tried to keep all ",(0,a.kt)("inlineCode",{parentName:"p"},"browser")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"element")," commands, see the link above, agnostic to the protocol. Nothing changed here for you.\nTo provide you some insight on how this works please check for example the ",(0,a.kt)("inlineCode",{parentName:"p"},"keys")," command, you will find the support for both protocols ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/webdriverio/blob/main/packages/webdriverio/src/commands/browser/keys.js#L45-L50"},"here"),"."),(0,a.kt)("p",null,"If you want to use W3C with cloud vendors, like for example Sauce Labs or Browserstack, you need to use a vendor specific prefix in your capabilities.\nPlease check the websites of the vendors to see what you need to do."),(0,a.kt)("p",null,"But, you always need to end with the advantages. So, with W3C you will now see that the browsers follow a common web standard for web automation.\nThis helps WebdriverIO to build a reliable framework on top of it. And last but not least, with W3C support from all browser vendors we now also get better support for Appium, check the latest post of ",(0,a.kt)("a",{parentName:"p",href:"https://webkit.org/blog/9395/webdriver-is-coming-to-safari-in-ios-13/"},"Apple here"),".\nSo, W3C is a major step for us all!!"),(0,a.kt)("h3",{id:"command-changes"},"Command changes"),(0,a.kt)("p",null,"Over the years WebdriverIO added more and more commands for different automation protocols without applying a pattern to it which resulted in having a bunch of duplication and inconsistent naming.\nEven though the list looks exhausting, most of the commands that have changed were used internally. Please check the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/webdriverio/blob/main/CHANGELOG.md#v500-2018-12-20"},"changelog of V5")," to see all the changes."),(0,a.kt)("h3",{id:"breaking-changes"},"Breaking changes"),(0,a.kt)("p",null,"When creating a better product and thus releasing a major version, you will always have breaking changes. We can't repeat it enough but please check the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/webdriverio/blob/main/CHANGELOG.md#v500-2018-12-20"},"changelog of V5")," to see all the breaking changes."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Don't only read the changes in the V5.0.0 release, but also read the rest of the changes!")),(0,a.kt)("h3",{id:"its-not-only-webdriverio-who-evolved"},"It's not only WebdriverIO who evolved!"),(0,a.kt)("p",null,"When you are going to use the latest version of the ",(0,a.kt)("inlineCode",{parentName:"p"},"@wdio/cucumber-framework"),", you'll also get the latest version of Cucumber. ",(0,a.kt)("strong",{parentName:"p"},"This means you also need to look at the breaking changes between CucumberJS 2 and CucumberJS 5."),"\nPlease check the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cucumber/cucumber-js/blob/master/CHANGELOG.md#300-2017-08-08"},"changelog of CucumberJS")," from version 3 till 5 to see what changed in CucumberJS."),(0,a.kt)("h3",{id:"migration-steps"},"Migration steps"),(0,a.kt)("p",null,"So enough about the differences between V4 and V5, please follow the steps below to make the migration a little bit smoother. The idea behind these steps is to migrate with small baby steps.\nThe advantage of doing it in small baby steps is that you also have some time to look at your code again and maybe refactor it or remove duplicate and ugly not needed code."),(0,a.kt)("h4",{id:"1-start-with-a-clean-project"},"1. Start with a clean project"),(0,a.kt)("p",null,"We advise you to create a fresh new project which you can easily copy to your old project and migrate 1 feature file and it's steps per scenario.\nWhen you do this you can easily disable scenario's in your old project, and run the new migrated tests in the new project, maybe even embed it in your pipeline."),(0,a.kt)("p",null,"Before installing dependencies, we need to initialize an empty NPM project (this will allow us to the cli to install needed dependencies to our local project).\nTo do this, run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir webdriverio-test && cd webdriverio-test\nnpm init -y\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"-y")," will answer 'yes' to all the prompts, giving us a standard NPM project. Feel free to omit the ",(0,a.kt)("inlineCode",{parentName:"p"},"-y")," if you'd like to specify your own project details."),(0,a.kt)("h4",{id:"2-install-webdriverio-cli"},"2. Install WebdriverIO CLI"),(0,a.kt)("p",null,"We recommend using the test runner because it comes with a lot of useful features that makes your life easier. With WebdriverIO v5 and up, the testrunner has moved into the ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@wdio/cli"},"@wdio/cli")," NPM package."),(0,a.kt)("p",null,"Now we need to install the cli. Do that by running:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm i --save-dev @wdio/cli\n")),(0,a.kt)("h4",{id:"3-generate-configuration-file"},"3. Generate Configuration File"),(0,a.kt)("p",null,"We'll next want to generate a configuration file that stores all of our WebdriverIO settings. To do that just run the configuration utility:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npx wdio config\n")),(0,a.kt)("p",null,"A question interface pops up. It will help to create the config easy and fast and install all needed dependencies.\nCheck the file and read the comments, some things changed so reading them might help you understand what changed in the configuration file."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"NOTE:"),"\nIf you were using a compiler in your ",(0,a.kt)("inlineCode",{parentName:"p"},"cucumberOpts")," you need to be aware of the fact that CucumberJS removed the ",(0,a.kt)("inlineCode",{parentName:"p"},"compiler"),". This means that WebdriverIO can't provide you with this option, but, as you might expect from our hard working contributors, there is a different solution.\nPlease check ",(0,a.kt)("a",{parentName:"p",href:"https://webdriver.io/docs/babel.html"},"Babel")," or ",(0,a.kt)("a",{parentName:"p",href:"https://webdriver.io/docs/typescript.html"},"TypeScript")," for the new way of using a compiler."),(0,a.kt)("h4",{id:"4-create-the-same-folder-structure"},"4. Create the same folder structure"),(0,a.kt)("p",null,"Now that everything has been set up, it's best to create the same folder structure you now have in your project."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"DON'T COPY THE FILE, ONLY THE FOLDER STRUCTURE")),(0,a.kt)("h4",{id:"5-migrate-feature-file-per-feature-file"},"5. Migrate feature file per feature file"),(0,a.kt)("p",null,"When you have the folder structure, copy ",(0,a.kt)("strong",{parentName:"p"},"1 feature file")," to the new project. Start with the easiest file and if you have more than 1 scenario in it, comment out all scenario's and leave 1 active.\nNow make sure you migrate the steps that belong to that specific scenario, including all pageobjects that belong to the implementation, to the new project. Keep in mind that there are breaking changes in WebdriverIO in selecting elements and so on, see above.\nIf you were using the ",(0,a.kt)("inlineCode",{parentName:"p"},"defineSupportCode")," from CucumberJS, please check the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cucumber/cucumber-js/blob/master/CHANGELOG.md#400-2018-01-24"},"CucumberJS changelog for V4"),". That is deprecated now."),(0,a.kt)("p",null,"Do this for each scenario, migrate it step by step, if you face issues, fix them and proceed. And don't forget to clean up the coding mess you, or your colleagues, might have made in the past."),(0,a.kt)("h4",{id:"6-when-youre-done"},"6. When you're done"),(0,a.kt)("p",null,"Because you created a clean project you can now easily do the following:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Remove all WebdriverIO V4 dependencies in your old project."),(0,a.kt)("li",{parentName:"ol"},"Copy all dependencies from the new project to the old project."),(0,a.kt)("li",{parentName:"ol"},"Remove all test related files."),(0,a.kt)("li",{parentName:"ol"},"Copy all new test related files to your project.")),(0,a.kt)("p",null,"And you're done, time to party."),(0,a.kt)("h1",{id:"support"},"Support"),(0,a.kt)("p",null,"If you need support you can find us on the ",(0,a.kt)("inlineCode",{parentName:"p"},"WebdriverIO"),"- Gitter channel by clicking on this link ",(0,a.kt)("a",{parentName:"p",href:"https://gitter.im/webdriverio/webdriverio",title:"Gitter chat"},(0,a.kt)("img",{parentName:"a",src:"https://badges.gitter.im/webdriverio/webdriverio.svg",alt:"Gitter chat"})),".\nWhen you ask for support we only have 1 question for you, please provide us a detailed description of your issue, what you already did and so on. Otherwise you ask us to find a needle in a haystack and trust me, that will be very hard for us."),(0,a.kt)("p",null,"Happy testing!"),(0,a.kt)("p",null,"Grtz,"),(0,a.kt)("p",null,"The Blue Guy"))}c.isMDXComponent=!0}}]);