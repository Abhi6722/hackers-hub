"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8603],{4137:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=p(n),u=o,v=m["".concat(l,".").concat(u)]||m[u]||c[u]||a;return n?r.createElement(v,i(i({ref:t},d),{},{components:n})):r.createElement(v,i({ref:t},d))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8198:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return d},default:function(){return m}});var r=n(7462),o=n(3366),a=(n(7294),n(4137)),i=["components"],s={id:"v6-migration",title:"From v5 to v6"},l=void 0,p={unversionedId:"v6-migration",id:"v6-migration",isDocsHomePage:!1,title:"From v5 to v6",description:"This tutorial is for people who are still using v5 of WebdriverIO and want to migrate to v6 or to the latest version of WebdriverIO. As mentioned in our release blog post the changes for this version upgrade can be summarised as following:",source:"@site/docs/v6Migration.md",sourceDirName:".",slug:"/v6-migration",permalink:"/docs/v6-migration",editUrl:"https://github.com/Abhi6722/hackers-hub/edit/main/website/docs/v6Migration.md",tags:[],version:"current",frontMatter:{id:"v6-migration",title:"From v5 to v6"},sidebar:"docs",previous:{title:"Custom Services",permalink:"/docs/customservices"},next:{title:"From v6 to v7",permalink:"/docs/v7-migration"}},d=[{value:"Setup",id:"setup",children:[],level:2},{value:"Upgrade WebdriverIO Dependencies",id:"upgrade-webdriverio-dependencies",children:[],level:2},{value:"Transform Config File",id:"transform-config-file",children:[],level:2},{value:"Update Spec Files and Page Objects",id:"update-spec-files-and-page-objects",children:[],level:2},{value:"Conclusion",id:"conclusion",children:[],level:2}],c={toc:d};function m(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This tutorial is for people who are still using ",(0,a.kt)("inlineCode",{parentName:"p"},"v5")," of WebdriverIO and want to migrate to ",(0,a.kt)("inlineCode",{parentName:"p"},"v6")," or to the latest version of WebdriverIO. As mentioned in our ",(0,a.kt)("a",{parentName:"p",href:"https://webdriver.io/blog/2020/03/26/webdriverio-v6-released"},"release blog post")," the changes for this version upgrade can be summarised as following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"we consolidated the parameters for some commands (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"newWindow"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"react$"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"react$$"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"waitUntil"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"dragAndDrop"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"moveTo"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"waitForDisplayed"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"waitForEnabled"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"waitForExist"),") and moved all optional parameters into a single object, e.g."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// v5\nbrowser.newWindow(\n    'https://webdriver.io',\n    'WebdriverIO window',\n    'width=420,height=230,resizable,scrollbars=yes,status=1'\n)\n// v6\nbrowser.newWindow('https://webdriver.io', {\n    windowName: 'WebdriverIO window',\n    windowFeature: 'width=420,height=230,resizable,scrollbars=yes,status=1'\n})\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"configurations for services moved into the service list, e.g."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// v5\nexports.config = {\n    services: ['sauce'],\n    sauceConnect: true,\n    sauceConnectOpts: { foo: 'bar' },\n}\n// v6\nexports.config = {\n    services: [['sauce', {\n        sauceConnect: true,\n        sauceConnectOpts: { foo: 'bar' }\n    }]],\n}\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"some service options were renamed for simplification purposes")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"we renamed command ",(0,a.kt)("inlineCode",{parentName:"p"},"launchApp")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"launchChromeApp")," for Chrome WebDriver sessions"))),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"If you are using WebdriverIO ",(0,a.kt)("inlineCode",{parentName:"p"},"v4")," or below, please upgrade to ",(0,a.kt)("inlineCode",{parentName:"p"},"v5")," first."))),(0,a.kt)("p",null,"While we would love to have a fully automated process for this the reality looks different. Everyone has a different setup. Every step should be seen as guidance and less like a step by step instruction. If you have issues with the migration, don't hesitate to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/discussions/new"},"contact us"),"."),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("p",null,"Similar to other migrations we can use the WebdriverIO ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod"},"codemod"),". To install the codemod, run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm install jscodeshift @wdio/codemod\n")),(0,a.kt)("h2",{id:"upgrade-webdriverio-dependencies"},"Upgrade WebdriverIO Dependencies"),(0,a.kt)("p",null,"Given that all WebdriverIO versions are tight to each other it is the best to always upgrade to a specific tag, e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"6.12.0"),". If you decide to upgrade from ",(0,a.kt)("inlineCode",{parentName:"p"},"v5")," directly to ",(0,a.kt)("inlineCode",{parentName:"p"},"v7")," you can leave out the tag and install latest versions of all packages. To do so we copy all WebdriverIO related dependencies out of our ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," and re-install them via:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm i --save-dev @wdio/allure-reporter@6 @wdio/cli@6 @wdio/cucumber-framework@6 @wdio/local-runner@6 @wdio/spec-reporter@6 @wdio/sync@6 wdio-chromedriver-service@6 webdriverio@6\n")),(0,a.kt)("p",null,"Usually WebdriverIO dependencies are part of the dev dependencies, depending on your project this can vary though. After this your ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"package-lock.json")," should be updated. ",(0,a.kt)("strong",{parentName:"p"},"Note:")," these are example dependencies, yours may differ. Make sure you find the latest v6 version by calling, e.g.:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm show webdriverio versions\n")),(0,a.kt)("p",null,"Try to install the latest version 6 available for all core WebdriverIO packages. For community packages this can differ from package to package. Here we recommend to check the changelog for information on which version is still compatible with v6."),(0,a.kt)("h2",{id:"transform-config-file"},"Transform Config File"),(0,a.kt)("p",null,"A good first step is to start with the config file. All breaking changes can be resolve using the codemod full automatically:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npx jscodeshift -t ./node_modules/@wdio/codemod/v6 ./wdio.conf.js\n")),(0,a.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"The codemod doesn't yet support TypeScript projects. See ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/issues/10"},(0,a.kt)("inlineCode",{parentName:"a"},"@webdriverio/codemod#10")),". We are working to implement support for it soon. If you are using TypeScript please get involved!"))),(0,a.kt)("h2",{id:"update-spec-files-and-page-objects"},"Update Spec Files and Page Objects"),(0,a.kt)("p",null,"In order to update all command changes run the codemod on all your e2e files that contain WebdriverIO commands, e.g.:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npx jscodeshift -t ./node_modules/@wdio/codemod/v6 ./e2e/*\n")),(0,a.kt)("p",null,"That's it! No more changes necessary \ud83c\udf89"),(0,a.kt)("h2",{id:"conclusion"},"Conclusion"),(0,a.kt)("p",null,"We hope this tutorial guides you a little bit through the migration process to WebdriverIO ",(0,a.kt)("inlineCode",{parentName:"p"},"v6"),". We strongly recommend to continue upgrading to the latest version given that updating to ",(0,a.kt)("inlineCode",{parentName:"p"},"v7")," is trivial due to almost no breaking changes. Please check out the migration guide ",(0,a.kt)("a",{parentName:"p",href:"v7-migration"},"to upgrade to v7"),"."),(0,a.kt)("p",null,"The community continues to improve the codemod while testing it with various teams in various organisations. Don't hesitate to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/issues/new"},"raise an issue")," if you have feedback or ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/codemod/discussions/new"},"start a discussion")," if you struggle during the migration process."))}m.isMDXComponent=!0}}]);