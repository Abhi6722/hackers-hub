"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1250],{4137:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return p}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),u=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(a),p=r,k=d["".concat(i,".").concat(p)]||d[p]||m[p]||l;return a?n.createElement(k,o(o({ref:t},c),{},{components:a})):n.createElement(k,o({ref:t},c))}));function p(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var u=2;u<l;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},8448:function(e,t,a){var n=a(7294);t.Z=function(e){var t=e.children,a=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:r},t)}},7225:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(7462),r=a(7294),l=a(1048),o=a(2713);var s=function(){var e=(0,r.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},i=a(3309),u=a(6010),c="tabItem_vU9c";function m(e){var t,a,n,l=e.lazy,o=e.block,m=e.defaultValue,d=e.values,p=e.groupId,k=e.className,h=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=d?d:h.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),b=(0,i.lx)(g,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===m?m:null!=(t=null!=m?m:null==(a=h.find((function(e){return e.props.default})))?void 0:a.props.value)?t:null==(n=h[0])?void 0:n.props.value;if(null!==v&&!g.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=s(),f=N.tabGroupChoices,y=N.setTabGroupChoices,w=(0,r.useState)(v),x=w[0],C=w[1],T=[],P=(0,i.o5)().blockElementScrollPositionUntilNextRender;if(null!=p){var j=f[p];null!=j&&j!==x&&g.some((function(e){return e.value===j}))&&C(j)}var L=function(e){var t=e.currentTarget,a=T.indexOf(t),n=g[a].value;n!==x&&(P(t),C(n),null!=p&&y(p,n))},S=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n=T.indexOf(e.currentTarget)+1;a=T[n]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.currentTarget)-1;a=T[r]||T[T.length-1]}null==(t=a)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":o},k)},g.map((function(e){var t=e.value,a=e.label;return r.createElement("li",{role:"tab",tabIndex:x===t?0:-1,"aria-selected":x===t,className:(0,u.Z)("tabs__item",c,{"tabs__item--active":x===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:S,onFocus:L,onClick:L},null!=a?a:t)}))),l?(0,r.cloneElement)(h.filter((function(e){return e.props.value===x}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==x})}))))}function d(e){var t=(0,l.Z)();return r.createElement(m,(0,n.Z)({key:String(t)},e))}},2713:function(e,t,a){var n=(0,a(7294).createContext)(void 0);t.Z=n},9445:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return m},toc:function(){return d},default:function(){return k}});var n=a(7462),r=a(3366),l=(a(7294),a(4137)),o=a(7225),s=a(8448),i=["components"],u={id:"saucelabs",title:"Sauce Labs",custom_edit_url:"https://github.com/webdriverio/webdriverio/edit/main/packages/wdio-protocols/protocols/saucelabs.json"},c=void 0,m={unversionedId:"api/saucelabs",id:"api/saucelabs",isDocsHomePage:!1,title:"Sauce Labs",description:"All commands are only supported on Chrome using Sauce Labs",source:"@site/docs/api/_saucelabs.md",sourceDirName:"api",slug:"/api/saucelabs",permalink:"/docs/api/saucelabs",editUrl:"https://github.com/webdriverio/webdriverio/edit/main/packages/wdio-protocols/protocols/saucelabs.json",tags:[],version:"current",frontMatter:{id:"saucelabs",title:"Sauce Labs",custom_edit_url:"https://github.com/webdriverio/webdriverio/edit/main/packages/wdio-protocols/protocols/saucelabs.json"},sidebar:"api",previous:{title:"Firefox",permalink:"/docs/api/gecko"},next:{title:"Selenium Standalone",permalink:"/docs/api/selenium"}},d=[{value:"getPageLogs",id:"getpagelogs",children:[{value:"Usage",id:"usage",children:[],level:5},{value:"Parameters",id:"parameters",children:[],level:5},{value:"Examples",id:"examples",children:[],level:5},{value:"Returns",id:"returns",children:[],level:5}],level:2},{value:"throttleNetwork",id:"throttlenetwork",children:[{value:"Usage",id:"usage-1",children:[],level:5},{value:"Parameters",id:"parameters-1",children:[],level:5},{value:"Examples",id:"examples-1",children:[],level:5}],level:2},{value:"throttleCPU",id:"throttlecpu",children:[{value:"Usage",id:"usage-2",children:[],level:5},{value:"Parameters",id:"parameters-2",children:[],level:5},{value:"Examples",id:"examples-2",children:[],level:5}],level:2},{value:"interceptRequest",id:"interceptrequest",children:[{value:"Usage",id:"usage-3",children:[],level:5},{value:"Parameters",id:"parameters-3",children:[],level:5},{value:"Examples",id:"examples-3",children:[],level:5}],level:2},{value:"assertPerformance",id:"assertperformance",children:[{value:"Usage",id:"usage-4",children:[],level:5},{value:"Parameters",id:"parameters-4",children:[],level:5},{value:"Example",id:"example",children:[],level:5},{value:"Returns",id:"returns-1",children:[],level:5}],level:2},{value:"jankinessCheck",id:"jankinesscheck",children:[{value:"Usage",id:"usage-5",children:[],level:5},{value:"Example",id:"example-1",children:[],level:5},{value:"Returns",id:"returns-2",children:[],level:5}],level:2},{value:"mockRequest",id:"mockrequest",children:[{value:"Usage",id:"usage-6",children:[],level:5},{value:"Parameters",id:"parameters-5",children:[],level:5},{value:"Returns",id:"returns-3",children:[],level:5}],level:2},{value:"getMockCalls",id:"getmockcalls",children:[{value:"Usage",id:"usage-7",children:[],level:5},{value:"Parameters",id:"parameters-6",children:[],level:5},{value:"Returns",id:"returns-4",children:[],level:5}],level:2},{value:"clearMockCalls",id:"clearmockcalls",children:[{value:"Usage",id:"usage-8",children:[],level:5},{value:"Parameters",id:"parameters-7",children:[],level:5}],level:2},{value:"respondMock",id:"respondmock",children:[{value:"Usage",id:"usage-9",children:[],level:5},{value:"Parameters",id:"parameters-8",children:[],level:5}],level:2}],p={toc:d};function k(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"All commands are only supported on Chrome using Sauce Labs\n",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/pages/viewpage.action?pageId=70072943"},"Extended Debugging"),"\ncapabilities. You can enable these by setting the following Sauce options:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"{\n    browserName: 'Chrome',\n    browserVersion: 'latest',\n    platformName: 'Windows 10',\n    'sauce:options': {\n        extendedDebugging: true\n    }\n}\n")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"getpagelogs"},"getPageLogs"),(0,l.kt)("p",null,"Get webpage specific log information based on the last page load.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands#CustomSauceLabsWebDriverExtensionsforNetworkandLogCommands-ExtendedDebuggingTools"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.getPageLogs(type)\n")),(0,l.kt)("h5",{id:"parameters"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"type"))),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"log type (e.g. sauce:network","'",", ","'","sauce:performance","'",")")))),(0,l.kt)("h5",{id:"examples"},"Examples"),(0,l.kt)(o.Z,{defaultValue:"async",className:"runtime",values:[{label:"Asynchronous Mode",value:"async"},{label:"Synchronous Mode",value:"sync"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"async",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// Get Network Logs\nconsole.log(browser.getPageLogs(\'sauce:network\'));\n/**\n * outputs:\n * [{\n *   "url": "https://app.saucelabs.com/dashboard",\n *   "statusCode": 200,\n *   "method": "GET",\n *   "requestHeaders": {\n *     ...\n *   },\n *   "responseHeaders": {\n *     ...\n *   },\n *   "timing": {\n *     ...\n *   }\n * }, {,\n *   ...\n * }]\n */\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// Get Performance Logs (needs capturePerformance capability see: https://wiki.saucelabs.com/display/DOCS/Measure+Page+Load+Performance+Using+Test+Automation#MeasurePageLoadPerformanceUsingTestAutomation-EnableYourScript)\nconsole.log(browser.getPageLogs(\'sauce:performance\'));\n/**\n * outputs:\n * {\n *   "speedIndex": 1472.023,\n *   "timeToFirstInteractive": 1243.214,\n *   "firstMeaningfulPaint": 892.643,\n *   ...\n * }\n */\n'))),(0,l.kt)(s.Z,{value:"sync",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// Get Network Logs\nconsole.log(browser.getPageLogs(\'sauce:network\'));\n/**\n * outputs:\n * [{\n *   "url": "https://app.saucelabs.com/dashboard",\n *   "statusCode": 200,\n *   "method": "GET",\n *   "requestHeaders": {\n *     ...\n *   },\n *   "responseHeaders": {\n *     ...\n *   },\n *   "timing": {\n *     ...\n *   }\n * }, {,\n *   ...\n * }]\n */\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// Get Performance Logs (needs capturePerformance capability see: https://wiki.saucelabs.com/display/DOCS/Measure+Page+Load+Performance+Using+Test+Automation#MeasurePageLoadPerformanceUsingTestAutomation-EnableYourScript)\nconsole.log(browser.getPageLogs(\'sauce:performance\'));\n/**\n * outputs:\n * {\n *   "speedIndex": 1472.023,\n *   "timeToFirstInteractive": 1243.214,\n *   "firstMeaningfulPaint": 892.643,\n *   ...\n * }\n */\n')),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},'Synchronous Mode will depcrecated with Node.js v16. With an update to the\nunderlying Chromium version it became technically impossible to provide the\nsame synchronous behavior. We recommend to start transition to asynchronous\ncommand execution. For more information, see our <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a>.\n')))))),(0,l.kt)("h5",{id:"returns"},"Returns"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"<","object",">"," ",(0,l.kt)("code",null,(0,l.kt)("var",null,"log")),":")," log output of desired type (see example)")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"throttlenetwork"},"throttleNetwork"),(0,l.kt)("p",null,"With network conditioning you can test your site on a variety of network connections, including Edge, 3G, and even offline. You can throttle the data throughput, including the maximum download and upload throughput, and use latency manipulation to enforce a minimum delay in connection round-trip time (RTT).",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands#CustomSauceLabsWebDriverExtensionsforNetworkandLogCommands-ThrottleNetworkCapabilities"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-1"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.throttleNetwork(condition)\n")),(0,l.kt)("h5",{id:"parameters-1"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"condition"))),(0,l.kt)("td",{parentName:"tr",align:null},"string, object"),(0,l.kt)("td",{parentName:"tr",align:null},"network condition to set (e.g. ","'","online","'",", ","'","offline","'",", ","'","GPRS","'",", ","'","Regular 2G","'",", ","'","Good 2G","'",", ","'","Regular 3G","'",", ","'","Good 3G","'",", ","'","Regular 4G","'",", ","'","DSL","'",", ","'","Wifi","'",")")))),(0,l.kt)("h5",{id:"examples-1"},"Examples"),(0,l.kt)(o.Z,{defaultValue:"async",className:"runtime",values:[{label:"Asynchronous Mode",value:"async"},{label:"Synchronous Mode",value:"sync"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"async",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// predefined network condition\nbrowser.throttleNetwork('offline')\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// custom network condition\nbrowser.throttleNetwork({\n  download: 1000,\n  upload: 500,\n  latency: 40'\n})\n"))),(0,l.kt)(s.Z,{value:"sync",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// predefined network condition\nbrowser.throttleNetwork('offline')\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// custom network condition\nbrowser.throttleNetwork({\n  download: 1000,\n  upload: 500,\n  latency: 40'\n})\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},'Synchronous Mode will depcrecated with Node.js v16. With an update to the\nunderlying Chromium version it became technically impossible to provide the\nsame synchronous behavior. We recommend to start transition to asynchronous\ncommand execution. For more information, see our <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a>.\n')))))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"throttlecpu"},"throttleCPU"),(0,l.kt)("p",null,"You can throttle the CPU in DevTools to understand how your page performs under that constraint.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands#CustomSauceLabsWebDriverExtensionsforNetworkandLogCommands-ThrottleCPUCapabilities"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-2"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.throttleCPU(rate)\n")),(0,l.kt)("h5",{id:"parameters-2"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"rate"))),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"Rate on how much the CPU should get throttled.")))),(0,l.kt)("h5",{id:"examples-2"},"Examples"),(0,l.kt)(o.Z,{defaultValue:"async",className:"runtime",values:[{label:"Asynchronous Mode",value:"async"},{label:"Synchronous Mode",value:"sync"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"async",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// throttle CPU and make it run 4x slower\nbrowser.throttleCPU(4)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// reset CPU throttling\nbrowser.throttleCPU(0)\n"))),(0,l.kt)(s.Z,{value:"sync",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// throttle CPU and make it run 4x slower\nbrowser.throttleCPU(4)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// reset CPU throttling\nbrowser.throttleCPU(0)\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},'Synchronous Mode will depcrecated with Node.js v16. With an update to the\nunderlying Chromium version it became technically impossible to provide the\nsame synchronous behavior. We recommend to start transition to asynchronous\ncommand execution. For more information, see our <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a>.\n')))))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"interceptrequest"},"interceptRequest"),(0,l.kt)("p",null,"Allows modifying any request made by the browser. You can blacklist, modify, or redirect these as required for your tests.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands#CustomSauceLabsWebDriverExtensionsforNetworkandLogCommands-InterceptNetworkRequests"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-3"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.interceptRequest(rule)\n")),(0,l.kt)("h5",{id:"parameters-3"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"rule"))),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"A rule describing the request interception.")))),(0,l.kt)("h5",{id:"examples-3"},"Examples"),(0,l.kt)(o.Z,{defaultValue:"async",className:"runtime",values:[{label:"Asynchronous Mode",value:"async"},{label:"Synchronous Mode",value:"sync"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"async",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// redirect a request\nbrowser.interceptRequest({\n  url: 'https://saucelabs.com',\n  redirect: 'https://google.com'\n})\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// Blacklist requests to 3rd party vendors\nbrowser.interceptRequest({\n  url: 'https://api.segment.io/v1/p',\n  error: 'Failed'\n})\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// Modify requests to REST API (Mock REST API response)\nbrowser.interceptRequest({\n  url: 'http://sampleapp.appspot.com/api/todos',\n  response: {\n    headers: {\n      'x-custom-headers': 'foobar'\n    },\n    body: [{\n      title: 'My custom todo',\n      order: 1,\n      completed: false,\n      url: 'http://todo-backend-express.herokuapp.com/15727'\n    }]\n  }\n})\n"))),(0,l.kt)(s.Z,{value:"sync",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// redirect a request\nbrowser.interceptRequest({\n  url: 'https://saucelabs.com',\n  redirect: 'https://google.com'\n})\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// Blacklist requests to 3rd party vendors\nbrowser.interceptRequest({\n  url: 'https://api.segment.io/v1/p',\n  error: 'Failed'\n})\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// Modify requests to REST API (Mock REST API response)\nbrowser.interceptRequest({\n  url: 'http://sampleapp.appspot.com/api/todos',\n  response: {\n    headers: {\n      'x-custom-headers': 'foobar'\n    },\n    body: [{\n      title: 'My custom todo',\n      order: 1,\n      completed: false,\n      url: 'http://todo-backend-express.herokuapp.com/15727'\n    }]\n  }\n})\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},'Synchronous Mode will depcrecated with Node.js v16. With an update to the\nunderlying Chromium version it became technically impossible to provide the\nsame synchronous behavior. We recommend to start transition to asynchronous\ncommand execution. For more information, see our <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a>.\n')))))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"assertperformance"},"assertPerformance"),(0,l.kt)("p",null,"Assert against the performance baseline of your app.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-4"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.assertPerformance(name, metrics)\n")),(0,l.kt)("h5",{id:"parameters-4"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"name"))),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the job you created your baseline with.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"metrics")),(0,l.kt)("br",null),(0,l.kt)("span",{class:"label labelWarning"},"optional")),(0,l.kt)("td",{parentName:"tr",align:null},"string[]"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of metrics you want to assert agains the baseline.")))),(0,l.kt)("h5",{id:"example"},"Example"),(0,l.kt)(o.Z,{defaultValue:"async",className:"runtime",values:[{label:"Asynchronous Mode",value:"async"},{label:"Synchronous Mode",value:"sync"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"async",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// test performance for a page\nbrowser.url('https://webdriver.io')\nconst hasRegression = browser.assertPerformance({\n  name: 'my performance test', // make sure that the name is also set in the sauce options in your capabilities\n  metrics: ['score', 'firstPaint']\n})\n"))),(0,l.kt)(s.Z,{value:"sync",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// test performance for a page\nbrowser.url('https://webdriver.io')\nconst hasRegression = browser.assertPerformance({\n  name: 'my performance test', // make sure that the name is also set in the sauce options in your capabilities\n  metrics: ['score', 'firstPaint']\n})\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},'Synchronous Mode will depcrecated with Node.js v16. With an update to the\nunderlying Chromium version it became technically impossible to provide the\nsame synchronous behavior. We recommend to start transition to asynchronous\ncommand execution. For more information, see our <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a>.\n')))))),(0,l.kt)("h5",{id:"returns-1"},"Returns"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"<","object",">"," ",(0,l.kt)("code",null,(0,l.kt)("var",null,"hasRegression")),":")," An object containing the result as well as metrics about the result.")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"jankinesscheck"},"jankinessCheck"),(0,l.kt)("p",null,"Perform a scroll test that evaluates the jankiness of the application.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-5"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.jankinessCheck()\n")),(0,l.kt)("h5",{id:"example-1"},"Example"),(0,l.kt)(o.Z,{defaultValue:"async",className:"runtime",values:[{label:"Asynchronous Mode",value:"async"},{label:"Synchronous Mode",value:"sync"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"async",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// test performance for a page\nbrowser.url('https://webdriver.io')\nbrowser.jankinessCheck()\n"))),(0,l.kt)(s.Z,{value:"sync",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// test performance for a page\nbrowser.url('https://webdriver.io')\nbrowser.jankinessCheck()\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre"},'Synchronous Mode will depcrecated with Node.js v16. With an update to the\nunderlying Chromium version it became technically impossible to provide the\nsame synchronous behavior. We recommend to start transition to asynchronous\ncommand execution. For more information, see our <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a>.\n')))))),(0,l.kt)("h5",{id:"returns-2"},"Returns"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"<","object",">"," ",(0,l.kt)("code",null,(0,l.kt)("var",null,"testResults")),":")," An object containing the score as well as metrics around how smooth the UX of the page was during the test.")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"mockrequest"},"mockRequest"),(0,l.kt)("p",null,"Mocks a network resource.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-6"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.mockRequest(url, filterOptions)\n")),(0,l.kt)("h5",{id:"parameters-5"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"url"))),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"URL glob to match url to mock.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"filterOptions")),(0,l.kt)("br",null),(0,l.kt)("span",{class:"label labelWarning"},"optional")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Additional filter options for url to mock (e.g. headers, method).")))),(0,l.kt)("h5",{id:"returns-3"},"Returns"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"<","object",">"," ",(0,l.kt)("code",null,(0,l.kt)("var",null,"mockId")),":")," An object containing the id of a mock resource.")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"getmockcalls"},"getMockCalls"),(0,l.kt)("p",null,"Receive request information about requests that match the mocked resource.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-7"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.getMockCalls(mockId)\n")),(0,l.kt)("h5",{id:"parameters-6"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"mockId"))),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"the id of a mock")))),(0,l.kt)("h5",{id:"returns-4"},"Returns"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"<","object",">"," ",(0,l.kt)("code",null,(0,l.kt)("var",null,"requests")),":")," A list of request information.")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"clearmockcalls"},"clearMockCalls"),(0,l.kt)("p",null,"Clear list of mock calls.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-8"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.clearMockCalls(mockId, restore)\n")),(0,l.kt)("h5",{id:"parameters-7"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"mockId"))),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"the id of a mock")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"restore")),(0,l.kt)("br",null),(0,l.kt)("span",{class:"label labelWarning"},"optional")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"Set to true if mock should be restored as well.")))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"respondmock"},"respondMock"),(0,l.kt)("p",null,"Respond if mock matches a specific resource.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Sauce Labs command. More details can be found in the ",(0,l.kt)("a",{parentName:"p",href:"https://wiki.saucelabs.com/display/DOCS/Custom+Sauce+Labs+WebDriver+Extensions+for+Network+and+Log+Commands"},"official protocol docs"),"."),(0,l.kt)("h5",{id:"usage-9"},"Usage"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"browser.respondMock(mockId, payload)\n")),(0,l.kt)("h5",{id:"parameters-8"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Details"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"mockId"))),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"the id of a mock")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,(0,l.kt)("var",null,"payload")),(0,l.kt)("br",null),(0,l.kt)("span",{class:"label labelWarning"},"optional")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Information on mock response.")))))}k.isMDXComponent=!0}}]);