<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://hackers-hub.com/blog</id>
    <title>Hackers Hub Blog</title>
    <updated>2021-08-25T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://hackers-hub.com/blog"/>
    <subtitle>Hackers Hub Blog</subtitle>
    <icon>https://hackers-hub.com/img/favicon.png</icon>
    <entry>
        <title type="html"><![CDATA[WebdriverIO, meet Serenity/JS]]></title>
        <id>WebdriverIO, meet Serenity/JS</id>
        <link href="https://hackers-hub.com/blog/2021/08/25/webdriverio-meet-serenity-js"/>
        <updated>2021-08-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[WebdriverIO is one of the most popular test frameworks and an excellent Web integration tool.]]></summary>
        <content type="html"><![CDATA[<p>WebdriverIO is one of the most popular test frameworks and an excellent Web integration tool.</p><p>In fact, it&#x27;s one of my favourites ‚ù§Ô∏è</p><p>But, to write <strong>truly great acceptance tests</strong> you need more than that:</p><ul><li>You need <strong>business-friendly abstractions</strong> that capture the language of your domain and make even the most sophisticated, multi-actor, and cross-system workflows easy to design and adapt as the requirements change.</li><li>You need <strong>in-depth reporting</strong> that tells you not only what tests were executed, but also what requirements and business capabilities have (and have not!) been tested.</li><li>And on top of that, you need to be able to interact with <strong>all the interfaces</strong> of your system, so that the slower UI-based interactions are just one tool in your testing toolbox, rather than your only option.</li></ul><p>Of course, all the above is way outside of the scope of what WebdriverIO is trying to accomplish.</p><p>Typically, you and your team would need to figure it out all by yourselves.</p><p>But, what if I told you that there was a <strong>better way</strong>? That there was another framework that&#x27;s perfectly compatible with WebdriverIO and optimised to help you write <strong>world-class, full-stack acceptance tests</strong> following the <a href="https://serenity-js.org/handbook/design/screenplay-pattern.html">Screenplay Pattern</a> and <a href="https://en.wikipedia.org/wiki/SOLID">SOLID</a> design principles, even if not everyone on your team is an experienced test engineer?</p><p>What if I told you that this framework also covers <strong>business-friendly reporting</strong> and helps you write <strong>high-quality test code</strong> that&#x27;s <strong>easy to understand</strong>, <strong>maintain</strong>, and <strong>reuse across projects and teams</strong>?</p><p>What if I told you that you could add it to your <strong>existing WebdriverIO test suites</strong>, today?</p><p>Please allow me to introduce, <a href="https://serenity-js.org">Serenity/JS</a>!</p><h3>About Serenity/JS</h3><p><a href="https://serenity-js.org">Serenity/JS</a> is an open-source <strong>acceptance testing</strong> and <strong>integration framework</strong>, designed to make writing truly great acceptance tests <strong>easier</strong>, <strong>more collaborative</strong>, and <strong>fun</strong>! üöÄ</p><p>While you can use Serenity/JS to test systems of any complexity, it works particularly well in complex, workflow-based, multi-actor contexts.</p><p>At a high level, Serenity/JS is a modular framework that provides <a href="https://serenity-js.org/modules/">adapters</a> that make it easy to integrate your tests with <a href="https://serenity-js.org/modules/webdriverio/">Web apps</a>, <a href="https://serenity-js.org/modules/rest/">REST APIs</a>, <a href="https://serenity-js.org/modules/local-server/">Node.js servers</a>, and <a href="https://serenity-js.org/handbook/integration/architecture.html">pretty much anything</a> a Node.js program can talk to.</p><p>Thanks to Serenity/JS <a href="https://serenity-js.org/handbook/design/screenplay-pattern.html">Screenplay Pattern</a>, you and your team will also have a simple, consistent, and <strong>async-friendly</strong> <a href="https://serenity-js.org/handbook/thinking-in-serenity-js/index.html">programming model</a> across all those interfaces.</p><p>Apart from integrating with your system under test, Serenity/JS can also integrate with popular test runners such as <a href="https://serenity-js.org/modules/cucumber/">Cucumber</a>, <a href="https://serenity-js.org/modules/jasmine/">Jasmine</a>, <a href="https://serenity-js.org/modules/mocha/">Mocha</a>, <a href="https://serenity-js.org/modules/protractor/">Protractor</a>, and now also <a href="https://serenity-js.org/modules/webdriverio/">WebdriverIO</a>!</p><p>Better yet, Serenity/JS provides a unique <a href="https://serenity-js.org/handbook/reporting/index.html">reporting system</a> to help you generate consistent test execution and feature coverage reports across all the interfaces of your system and across all your test suites.
Serenity/JS reporting services can work together with your existing WebdriverIO reporters too!</p><h3>Thinking in Serenity/JS</h3><p>The best way to get started with Serenity/JS is to follow our brand-new series of tutorials, where you&#x27;ll learn how to build full-stack test automation frameworks from scratch.</p><p>Check out <a href="https://serenity-js.org/handbook/thinking-in-serenity-js/index.html">&quot;Thinking in Serenity/JS&quot;</a> ü§ì</p><h3>Examples and project templates</h3><p>If you prefer to kick the tires and jump straight into the code, you&#x27;ll find <a href="https://github.com/serenity-js/serenity-js/tree/master/examples">over a dozen example projects</a> in the <a href="https://github.com/serenity-js/serenity-js">Serenity/JS GitHub repository</a> and plenty of code samples in our <a href="https://serenity-js.org/modules/webdriverio/">API docs</a>.</p><p>We&#x27;ve also created WebdriverIO + Serenity/JS project templates to help you get started:</p><ul><li><a href="https://github.com/serenity-js/serenity-js-cucumber-webdriverio-template/">WebdriverIO, Serenity/JS and Cucumber</a></li><li><a href="https://github.com/serenity-js/serenity-js-mocha-webdriverio-template/">WebdriverIO, Serenity/JS and Mocha</a></li></ul><p>All the above templates are configured to produce <strong>Serenity BDD HTML reports</strong>, <strong>automatically capture screenshots</strong> upon test failure, and run in a <strong>Continuous Integration</strong> environment.</p><h3>Adding Serenity/JS to an existing project</h3><p>If you&#x27;re using WebdriverIO with Mocha, run the following command in your computer terminal to add the relevant <a href="https://serenity-js.org/modules">Serenity/JS modules</a> to your project:</p><pre><code class="language-shell">npm install --save-dev @serenity-js/{code,console-reporter,mocha,webdriverio}
</code></pre><p>If you&#x27;re using Cucumber or Jasmine instead, replace <a href="https://serenity-js.org/modules/mocha"><code>mocha</code></a> with the name of your preferred test runner, so <a href="https://serenity-js.org/modules/cucumber"><code>cucumber</code></a> or <a href="https://serenity-js.org/modules/jasmine"><code>jasmine</code></a>, respectively.</p><p>Next, tell WebdriverIO to use Serenity/JS instead of the default framework adapter:</p><pre><code class="language-ts" metastring="title=wdio.conf.ts" title="wdio.conf.ts">import { ConsoleReporter } from &#x27;@serenity-js/console-reporter&#x27;;
import { WebdriverIOConfig } from &#x27;@serenity-js/webdriverio&#x27;;

export const config: WebdriverIOConfig = {

    // Enable Serenity/JS framework adapter
    // see: https://serenity-js.org/modules/webdriverio/
    framework: &#x27;@serenity-js/webdriverio&#x27;,

    serenity: {
        // Use Serenity/JS test runner adapter for Mocha
        runner: &#x27;mocha&#x27;,        // see: https://serenity-js.org/modules/mocha/
        // runner: &#x27;jasmine&#x27;,   // see: https://serenity-js.org/modules/jasmine/
        // runner: &#x27;cucumber&#x27;,  // see: https://serenity-js.org/modules/cucumber/

        // Configure reporting services
        // see: https://serenity-js.org/handbook/reporting/
        crew: [
            ConsoleReporter.forDarkTerminals(),
        ],
    },

    // ... other WebdriverIO configuration
}
</code></pre><p>And that&#x27;s it!</p><p>The above configuration enables <a href="https://serenity-js.org/modules/console-reporter">Serenity/JS Console Reporter</a>, which produces output similar to the below and plays nicely with any existing WebdriverIO reporters you might have already configured:</p><p><img src="assets/serenity-js-console-reporter-output.png" alt="Serenity/JS Console Reporter output"/></p><p>To enable <strong>Serenity BDD HTML Reporter</strong>, please <a href="https://serenity-js.org/handbook/reporting/serenity-bdd-reporter.html">follow the instructions</a>.</p><p>To learn about Serenity/JS <a href="https://serenity-js.org/handbook/design/screenplay-pattern.html">Screenplay Pattern</a>, <a href="https://serenity-js.org/handbook/thinking-in-serenity-js/index.html">follow the tutorial</a>.</p><h3>Questions? Feedback? Ideas?</h3><p>If you have questions about Serenity/JS or need guidance in getting started, join our friendly <a href="https://gitter.im/serenity-js/Lobby">Serenity/JS Community Chat channel</a>.</p><p>For project news and updates, follow <a href="https://twitter.com/SerenityJS">@SerenityJS</a> on Twitter.</p><p>And if you like Serenity/JS and would like to see more articles on how to use it with WebdriverIO, remember to give us a ‚≠ê on <a href="https://github.com/serenity-js/serenity-js">Serenity/JS GitHub</a>! üòä</p><p>Enjoy Serenity!</p><p>Jan</p>]]></content>
        <author>
            <name>Jan Molak</name>
            <uri>https://www.linkedin.com/in/janmolak/</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Sync API Deprecation]]></title>
        <id>Sync API Deprecation</id>
        <link href="https://hackers-hub.com/blog/2021/07/28/sync-api-deprecation"/>
        <updated>2021-07-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[For many years one of the selling features of the WebdriverIO framework was its synchronous API. Especially for folks coming from more synchronous oriented languages such as Java or Ruby, it has helped to avoid race conditions when executing commands. But also people that are more familiar with Promises tend to prefer synchronous execution as it made the code easier to read and handle.]]></summary>
        <content type="html"><![CDATA[<p>For many years one of the selling features of the WebdriverIO framework was its synchronous API. Especially for folks coming from more synchronous oriented languages such as Java or Ruby, it has helped to avoid race conditions when executing commands. But also people that are more familiar with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a> tend to prefer synchronous execution as it made the code easier to read and handle.</p><p>Running asynchronous commands in a synchronous way was possible with the help of the <a href="https://www.npmjs.com/package/@wdio/sync"><code>@wdio/sync</code></a> package. If installed, WebdriverIO would automatically wrap the commands with utility methods that were using the <a href="https://www.npmjs.com/package/fibers"><code>fibers</code></a> package to create a synchronous execution environment. It uses some internal V8 APIs to allow to jump between multiple call stacks from within a single thread. This approach also has been popular among other projects, e.g. <a href="https://www.meteor.com/">Meteor</a>, where most of the code is written using asynchronous APIs which causes developers to constantly start the line of code with <code>await</code>.</p><p>Last year the <a href="https://github.com/laverdet">author</a> of the Fibers package <a href="https://github.com/laverdet/node-fibers/commit/e2a0ed9c6d985f94c2b1947eaf72d5797e8a3278">announced</a> that he would no longer continue to maintain the project anymore. He built Fibers when JavaScript did not have any proper mechanism to handle asynchronous code other than using callbacks. With JavaScript evolving and adding APIs like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generators</a> there is technically no reason anymore for Fibers to exist other than preference of code style. Now with the release of Node.js v16 and the update to <a href="https://v8.dev/">V8</a> v9 Fibers stopped working due to a <a href="https://chromium-review.googlesource.com/c/v8/v8/+/2537690">change in V8</a> that would remove some internal interfaces Fibers was using. Given that a fix for this is non trivial and the maintainer already stepped down from the project it is unlikely that we will see support for Fibers in Node.js v16 and on.</p><p>After the WebdriverIO team discovered this we immediately took action and evaluated our options. We opened an <a href="https://github.com/webdriverio/webdriverio/discussions/6702">RFC</a> to discuss with the community in which direction the project should go. I would like to thank everyone who chimed in and provided their opinion. We experimented with some alternative options, e.g. using Babel to transpile synchronous code into asynchronous but they all failed due to various reasons. The ultimate decision was made to accept the fact that synchronous command execution won&#x27;t be possible moving on and rather embrace asynchronicity.</p><p>With the release of WebdriverIO <code>v7.9</code> we are happy to announce that we improved our asynchronous API and matched it with the synchronous one. When chaining element command calls users had to write aweful code like this before:</p><pre><code class="language-js">await (await (await $(&#x27;#foo&#x27;)).$$(&#x27;.bar&#x27;))[42].click()
</code></pre><p>now this got simiplified to this:</p><pre><code class="language-js">await $(&#x27;#foo&#x27;).$$(&#x27;.bar&#x27;)[42].click()
</code></pre><p>Thanks to the enormous power of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy Object</a> the API is now much more streamlined and less verbose. This will also help users migrating a project that uses the synchronous API to become asynchronous. The team will work on a <a href="https://github.com/webdriverio/codemod/issues/1">codemod</a> to help make this process as automated and easy as possible.</p><p>At this point the WebdriverIO team wants to thank Marcel Laverdet (<code>@laverdet</code> on <a href="https://github.com/laverdet">GitHub</a>) for building Fibers and maintaining it for so many years. It is time to move on and embrace all the great JavaScript language feature many people have worked hard on. While we have updated the code examples in our docs, <code>@wdio/sync</code> will continue to be supported until we drop support for Node.js v14 and earlier which won&#x27;t happen before April 2023. You will have enough time to slowly migrate your tests using <code>async/await</code>.</p><p>If you have any questions on this or the migration from a framework writing with synchronous commands to asynchronous code, feel free to drop us a line in our <a href="https://github.com/webdriverio/webdriverio/discussions/new">discussion forum</a> or on <a href="https://gitter.im/webdriverio/webdriverio">Gitter</a>.</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Case Study - How WebdriverIO facilitated faster releases and better code quality for an online video company]]></title>
        <id>Case Study - How WebdriverIO facilitated faster releases and better code quality for an online video company</id>
        <link href="https://hackers-hub.com/blog/2021/06/22/jwplayer-case-study"/>
        <updated>2021-06-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Choosing WebdriverIO]]></summary>
        <content type="html"><![CDATA[<h2>Choosing WebdriverIO</h2><p><a href="https://www.jwplayer.com">JW Player</a> is an embeddable, online video player which generates over a billion unique views every day. In order to sustain and grow this scale, the player needs to be able to function on a multitude of different web and mobile platforms. This increases the importance of automated testing to improve confidence in our releases when deploying to so many different targets. After a lengthy project of converting our legacy test framework, which comprised over 6,000 tests, the Test Engineering team at JW Player has been able to deliver more timely releases with fewer regressions. We have experienced no major rollbacks, and increased the confidence we have in the quality of our own product, thanks to WebdriverIO.</p><p>Before our migration to WebdriverIO, we had been using an open sourced Ruby framework on top of Cucumber. JW Player is officially supported on seven desktop and mobile web browsers, as well as iOS and Android versions dating back to 10 and 4.4, respectively. For coverage of these platforms, we run approximately 25,000 UI acceptance tests on a nightly basis. The legacy implementation created two problems. First, we encountered performance limitations in Ruby, as a single test run across all platforms could take up to 9 hours. Second, as the Player is implemented in JavaScript, product engineers were less likely to embrace and contribute to the Ruby-based framework. Moving to a JavaScript-native framework addressed both of these problems.</p><p>Selenium Webdriver has long been the go-to standard for web automation. Around 2018, our team began to explore several new emerging testing technologies. Cypress had limited browser support, Microsoft Playwright had not yet even been released, and Puppeteer would only execute on Chrome. A Webdriver-based solution, with its broad and dedicated support amongst browser vendors, was the clear winner.</p><p>What initially attracted us to WebdriverIO was its straightforward API and complete support for all browsers and devices we needed to test, compared to Cypress and Puppeteer which lack support for one or more of the necessary platforms. More importantly, though, was its rich plugin system and active, engaged developer community. Sponsorship from Sauce Labs, which had already made a name for itself within the testing space, gave us confidence that WebdriverIO would continue to grow and not become abandonware.</p><p>Out of the box, WebdriverIO had support for several of our existing and desired toolsets. Tools such as <a href="https://webdriver.io/docs/allure-reporter">Allure reporting</a>, which we use to quickly comb through product defects, as well as <a href="https://webdriver.io/docs/wdio-reportportal-reporter">Report Portal</a>, which we use to monitor test health and track trends over time, were easy for us to integrate. The granular <a href="https://webdriver.io/docs/options/#hooks">pre and post execution hooks</a> gave the test engineers an unprecedented ability to shape how and where tests executed.</p><h2>Webdriver.IO Practical Approach</h2><p>As more features keep being added to WebdriverIO, we are continually able to simplify our codebase by removing open source dependencies and messy mixin code. We have even been able to decommission services that our old framework relied on altogether.</p><ul><li><p>The <a href="https://webdriver.io/blog/2020/07/10/network-primitives">Network Primitives feature</a>, released last year, allowed us to remove our dependency on Browsermob Proxy, a proxy tool commonly used in Selenium Webdriver applications to intercept and manipulate HTTP requests. We now call <code>browser.mock()</code>, specify a substring or regex of the request we want to capture and supply a simple mock object to replace the asset. The ability to delay a response allowed us to automate several complicated tests which had required manual execution. We were then able to validate the player‚Äôs behavior when particular requests, such as ads, are delayed due to network or other external conditions:</p><pre><code>// mock.js
export function delayResponse3seconds() {
    return new Promise((resolve) =&gt; setTimeout(() =&gt; {
        return resolve(&#x27;{ &quot;foo&quot;: bar }&#x27;);
    }, 3000));
}

// test.js
import { delayResponse3seconds } from &#x27;./mock&#x27;;

function rewritePattern(pattern, replacement) {
   console.log(`Attempting to rewrite: ${pattern} with: ${replacement}`);
   const toRewrite = browser.mock(`**/${pattern}`);
   toRewrite.respond(delayResponse3seconds);
   console.log(`Successfully rewrote ${pattern} to ${replacement}`);
}
</code></pre></li><li><p>The <a href="https://webdriver.io/docs/api/chromium">Chrome Devtools Protocol</a> support that comes out of the box has also enabled us to automate some tests that were a manual chore. Being able to call <code>browser.throttle(‚ÄúGood3G‚Äù)</code> after our initial page load has allowed us to more accurately verify how the video player behaves under more real world conditions for our mobile users.</p></li><li><p>Thanks to <a href="https://webdriver.io/docs/devtools-service/#getmetrics">WebdriverIO‚Äôs CDP mapping</a>, we have been able to create and maintain a suite of performance tests. Calling <code>browser.getMetrics()</code> after a page load and interacting with the player has enabled us to verify that once a player is set up and embedded onto a customer‚Äôs website, it will not cause any undue Cumulative Layout Shifts for the end user, which create a disruptive page loading experience.</p></li></ul><h2>Summary</h2><p>Overall, JW Player‚Äôs migration to WebdriverIO was nothing short of a huge success. Between the performance and ‚Äúquality of life‚Äù improvements over our old framework, WebdriverIO‚Äôs feature set has allowed us to automate a couple of hundred manual test cases. We&#x27;ve been able to greatly cut down the length of our regression cycles from approximately 1 week to just a couple of days. Most importantly, however, these improvements have allowed us to find a record number of defects, leading to a better quality product and delivering more customer value.</p>]]></content>
        <author>
            <name>Eric Saari</name>
            <uri>https://www.linkedin.com/in/esaari/</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WebdriverIO Opens an OpenCollective]]></title>
        <id>WebdriverIO Opens an OpenCollective</id>
        <link href="https://hackers-hub.com/blog/2021/03/31/open-collective"/>
        <updated>2021-03-31T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Today the WebdriverIO team announced in their OpenJS Foundation Q&A session that the project opens an OpenCollective to allow users and companies to donate to the development of the project and support community members to run WebdriverIO workshops and other types of events. This allows everyone to be paid to work on features and bug fixes as well as help the community to pay for pizza or rental space when hosting WebdriverIO workshops or meetups.]]></summary>
        <content type="html"><![CDATA[<p>Today the WebdriverIO team announced in their <a href="https://openjsf.org/">OpenJS Foundation</a> Q&amp;A session that the project opens an <a href="https://opencollective.com/webdriverio">OpenCollective</a> to allow users and companies to donate to the development of the project and support community members to run WebdriverIO workshops and other types of events. This allows everyone to be paid to work on features and bug fixes as well as help the community to pay for pizza or rental space when hosting WebdriverIO workshops or meetups.</p><p>If your company uses WebdriverIO and benefits from it, please ask your manager or your marketing team to support the project by donating to the collective. Support will allow the maintainers to dedicate more time for maintenance and new features for everyone.</p><p>As part of this we also like to announce the official WebdriverIO Swag Store: <a href="http://shop.webdriver.io">shop.webdriver.io</a>, which will be used as an income source for the collective. All purchases from that store will directly go into our fund and to you. We start our collection with a T-shirt, a sweatshirt and a couple of accessories but will soon extend to more. So stay tuned!</p><p>We want to be transparent in the way we accept expenses to the collective. Everyone should be eligible to participate and send in expenses for development on certain features. We also want to give back to the community by allowing us to expense event expenses. The following expense types may be eligible to be reimbursed from the collective:</p><h4>Event Expenses</h4><p>If you host an event that has a speaker talking about using WebdriverIO and it&#x27;s features you can expense up to <strong>$100</strong>. Reimbursement requirements for event expenses include:</p><ul><li>You or the event account must share the project on social media (Twitter, Facebook or LinkedIn) at least 3x</li><li>The event page must have the WebdriverIO logo and a link to the project page in your meetup description</li><li>You must use the funds for qualified event expenses such as food, beverage, room or equipment rental.</li><li>You must submit receipts with your reimbursement request.</li></ul><p>Our goal with this expense policy is to help the community to run events, to promote the project and support anyone learning about WebdriverIO. We&#x27;ve already seen project meetups happening in New York and The Netherlands and hope to see more of this in the future.</p><h4>Development Expenses</h4><p>If you have done development work on any of the repositories within the GitHub WebdriverIO organisation you may reimburse up to <strong>$1000</strong> if the following requirements are met:</p><ul><li>You must have submitted qualifying pull requests that have closed at least 10 issues that were labeled with <a href="https://github.com/webdriverio/webdriverio/labels/Expensable%20%F0%9F%92%B8"><code>Expensable üí∏</code></a></li><li>Every additional issue closed with that label can be expensed with $100</li><li>You must submit links to all issues you‚Äôve closed due to your pull requests</li><li>In order to close the ticket automatically, you must have one commit message with the Fix keyword. For example, Fix #1234 to close ticket #1234.</li><li>Pull Requests must be merged by someone from the <a href="https://github.com/webdriverio/webdriverio/blob/main/AUTHORS.md#tsc-technical-steering-committee">core team</a>. If there are several Pull Requests, the core team member either selects the most recent one or the best one - that‚Äôs up to them to decide what is best for the project.</li><li>You must claim an <a href="https://github.com/webdriverio/webdriverio/labels/Expensable%20%F0%9F%92%B8"><code>Expensable üí∏</code></a> issue by commenting to the issue thread to ensure that no one else is working on the same issue.</li><li>Anyone contributing to WebdriverIO is eligible to expense their work if the implemented features or bug fixes are not objectives of a commercial job.</li></ul><p>Please note that contributing on behalf of a company does not make you eligible to also get reimbursed by the collective. If a company pays you to work on WebdriverIO we see this already as a contribution to the project by the company.</p><p>We understand that $1000 for fixing 10 bugs or implementing 10 features may seem arbitrary because some work items will take longer than others. However by requiring someone to finish 10 work items we hope that this uncertainty of effort and time will balance out. We also understand that this will not reimburse someone by their market value and it certainly won&#x27;t allow someone to work full time on WebdriverIO. The goal of the collective is to reimburse people that usually would contribute in their free time in a very transparent and open way.</p><h4>Travel Expenses</h4><p>If you are a member of the <a href="https://github.com/webdriverio/webdriverio/blob/main/AUTHORS.md#tsc-technical-steering-committee">Technical Steering Committee team</a> you are eligible to expense flights and hotel accommodations for travel to conferences or meetups as part of a speaking engagement on WebdriverIO, not paid by the event itself or a company. You may expense up to $500. Reimbursement requirements for travel expenses include:</p><ul><li>You must send out a post from your main social media account (e.g. Twitter, LinkedIn or personal blog) thanking all contributors of the collective after the event took place.</li><li>You must use the funds for qualified travel expenses such as ground or air transportation to the event and hotel accommodations.</li><li>You must submit receipts with your reimbursement request.</li></ul><p>Even though currently there are no in-person events happening due to the COVID-19 pandemic, we hope that we come back to times where we can reconnect with the community on a personal level. For that we would like to support the core team with their travel expenses.</p><p>Overall we hope that this expense policy is fair and inclusive enough that anyone can participate. Opening a collective might sound easy in the beginning but doesn&#x27;t end up being a trivial effort when you consider transparency and fairness. We expect to make amendments to our policies once we gather more experience from the process.</p><p>Thank you to everyone who will donate money to the collective and therefore will support the project and everyone contributing to it. It really means a lot ‚ù§Ô∏è</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Grouping Specs for Execution in a Single Instance]]></title>
        <id>Grouping Specs for Execution in a Single Instance</id>
        <link href="https://hackers-hub.com/blog/2021/03/23/grouping-specs"/>
        <updated>2021-03-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Until now, WebdriverIO has created a separate instance to run each of the spec files. So, if we have a directory structure that looks something like this:]]></summary>
        <content type="html"><![CDATA[<p>Until now, WebdriverIO has created a separate instance to run each of the spec files. So, if we have a directory structure that looks something like this:</p><pre><code>test
 ‚îî‚îÄ‚îÄ‚îÄ specs
         ‚îÇ  test_login.js
         ‚îÇ  test_product_order.js
         ‚îÇ  test_checkout.js
         ‚îÇ  test_b1.js
         ‚îÇ  test_b2.js
</code></pre><p>and the config file has specs defined as follows:</p><pre><code class="language-json">    &quot;specs&quot;: [
        &#x27;./test/specs/test*.js&#x27;
    ],
</code></pre><p>then when WebdriverIO is run, the specs definition will be expanded to create a list of all the test files, and a separate instance will be created to run each test (up to the value of &quot;maxInstances&quot;).  Remaining tests will be queued until tests complete.  Consequently, each test is run in its own instance.</p><p>This model has many advantages.  It means that tests can be run in parallel and makes it easier to retry tests that fail etc.</p><p>However, there are cases where this does not work so well.  In one case a users flow involved transpiling tens of thousands of Typescript files for each of the ~250 test files, resulting in a huge overhead in the speed of the testing.  In another case a remote device farm was provisioning a new device for each test with all the associated setup thereby impacting performance and cost.</p><p>At <a href="https://www.vitaq.io">Vertizan</a> we are integrating our AI-driven and functional coverage-led Vitaq test automation tool with WebdriverIO and Mocha. For Vitaq AI to work, it needs to be able to select which test/action to run next and that requires having all of the tests available in a single instance.</p><p>Consequently, we have worked with the WebdriverIO team to implement a syntax which allows the user to specify which tests should be grouped together for execution in the same instance.  All of the three test execution frameworks (Mocha, Jasmine, Cucumber) are supported by this approach, and by default they will run the tests sequentially.</p><p>To take advantage of this capability, the definition of the specs in the WDIO config file has been extended so that it can now accept arrays within the specs array. All of the files within an inner array are grouped together and run in the same instance.</p><p>So, the following specs definition:</p><pre><code class="language-json">    &quot;specs&quot;: [
        [
            &quot;./test/specs/test_login.js&quot;,
            &quot;./test/specs/test_product_order.js&quot;,
            &quot;./test/specs/test_checkout.js&quot;
        ],
        &quot;./test/specs/test_b*.js&quot;,
    ],
</code></pre><p>when run against the previously described directory tree would result in three instances:</p><ul><li>One instance would run the group of test_login.js, test_product_order.js and test_checkout.js</li><li>Another instance would run test_b1.js</li><li>A final instance would run test_b2.js</li></ul><p>It is only the specs definition that supports this syntax.</p><p><strong>EDIT:</strong>
This syntax has now been extended to support specs defined in suites, so you can now also define suites like this:</p><pre><code class="language-json">    &quot;suites&quot;: {
        end2end: [
            [
                &quot;./test/specs/test_login.js&quot;,
                &quot;./test/specs/test_product_order.js&quot;,
                &quot;./test/specs/test_checkout.js&quot;
            ]
        ],
        allb: [&quot;./test/specs/test_b*.js&quot;]
},
</code></pre><p>and in this case all of the tests of the &quot;end2end&quot; suite would be run in a single instance.</p>]]></content>
        <author>
            <name>Ross Addinall</name>
            <uri>http://twitter.com/rossaddinall</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WebdriverIO v7 Released]]></title>
        <id>WebdriverIO v7 Released</id>
        <link href="https://hackers-hub.com/blog/2021/02/09/webdriverio-v7-released"/>
        <updated>2021-02-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[It's the time of the year where the WebdriverIO project is releasing a new major update. It‚Äôs almost become a tradition for us to rewrite the complete code base to further grow the project. When we announced the v5 update, we moved from a multi-repository setup to a mono-repo. This time, the rewrite of the code base is just as important and impactful, but comes with almost no implications for the end user. As more and more contributors have joined the project, we've noticed that using pure JavaScript can be helpful to keep the entry barrier for contributions low, but that it ultimately decreases the quality of contributions overall. With the growing size of the code in the project, keeping up with all the different types that were thrown around was becoming more difficult for us as core contributors. Since we already had a lot of TypeScript fans among us, we decided to move to TypeScript quickly after meeting at the OpenJS Collaborator Summit.]]></summary>
        <content type="html"><![CDATA[<p>It&#x27;s the time of the year where the WebdriverIO project is releasing a new major update. It‚Äôs almost become a tradition for us to rewrite the complete code base to further grow the project. When we <a href="/blog/2018/12/19/webdriverio-v5-released">announced the v5</a> update, we moved from a multi-repository setup to a mono-repo. This time, the rewrite of the code base is just as important and impactful, but comes with almost no implications for the end user. As more and more contributors have joined the project, we&#x27;ve noticed that using pure JavaScript can be helpful to keep the entry barrier for contributions low, but that it ultimately decreases the quality of contributions overall. With the growing size of the code in the project, keeping up with all the different types that were thrown around was becoming more difficult for us as core contributors. Since we already had a lot of TypeScript fans among us, we decided to move to TypeScript quickly after meeting at the <a href="https://youtu.be/HqIstZSsCTA">OpenJS Collaborator Summit</a>.</p><p>Our hope is that by moving to TypeScript, fewer bugs will be introduced during continued development on the framework. It will help improve the quality of code contributions and the speed of development of certain features. It also brings more confidence in new versions that we ship to the user.</p><p>This major update will largely only impact TypeScript users as we have updated types in all places and changed the way we distribute them. As part of the rewrite, we upgraded to Cucumber v7, which also moved its codebase to TypeScript. Because of that we had to update some of the Cucumber hooks to ensure they come with proper type safety. In the following we go into every major change and will describe how you can upgrade to v7.</p><h2>Drop Node v10 Support</h2><p>We&#x27;ve dropped support for Node v10, which was moved into a maintenance LTS phase by the Node.js team in May 2020. While this version still receives important security updates until April 2021, we recommend updating your Node.js version to v14 or higher.</p><p>To update Node.js, it is important to know how it was installed in the first place. If you are in a Docker environment, you can just upgrade the base image like:</p><pre><code class="language-git">- FROM mhart/alpine-node:10
+ FROM mhart/alpine-node:14
</code></pre><p>We recommend using <a href="https://github.com/nvm-sh/nvm">NVM</a> (Node Version Manager) to install and manage Node.js versions. You can find a detailed description on how to install NVM and update Node in their <a href="https://github.com/nvm-sh/nvm#installing-and-updating">project readme</a>.</p><h2>TypeScript Rewrite</h2><p>We have rewritten the complete code base and almost touched all files to add type safety and to fix a lot of bugs on the way. This was a true community effort and would have taken much longer if we didn‚Äôt have so many people helping with code contributions. Thank you all for that ‚ù§Ô∏è! Before, WebdriverIO auto-generated all type definitions, which caused the creation of a lot of duplicate types and inconsistency. With this overhaul, all types are directly taken from the code itself and centralized in a single new helper package called <a href="https://github.com/webdriverio/webdriverio/tree/main/packages/wdio-types"><code>@wdio/types</code></a>. If you have been using TypeScript, you will now have much better type support for various commands and the configuration file.</p><p>There are two significant changes how this TypeScript rewrite will impact you. While in v6 you would set <code>@wdio/sync</code> in your types of your <code>tsconfig.json</code>, this will now change to be <code>webdriverio/sync</code>. Similar for running WebdriverIO asynchronously. Instead of just defining <code>webdriverio</code> in your types you now need to set <code>webdriverio/async</code>:</p><pre><code class="language-git">// tsconfig.json
&quot;types&quot;: [
  &quot;node&quot;,
-  &quot;@wdio/sync&quot;,
+  &quot;webdriverio/sync&quot;,
  &quot;@wdio/mocha-framework&quot;
],
</code></pre><p>or</p><pre><code class="language-git">// tsconfig.json
&quot;types&quot;: [
  &quot;node&quot;,
-  &quot;webdriverio&quot;,
+  &quot;webdriverio/async&quot;,
  &quot;@wdio/mocha-framework&quot;
],
</code></pre><p>Lastly, if you define custom commands, you need to provide their types slightly different now, if using module-style type definition files (type definition file uses import/export; tsconfig.json contains <code>include</code> section):</p><pre><code class="language-ts">// define custom commands in v6
declare namespace WebdriverIO {
    // adding command to `browser`
    interface Browser {
        browserCustomCommand: (arg: number) =&gt; void
    }
}
</code></pre><p>this now has to be:</p><pre><code class="language-ts">declare global {
    namespace WebdriverIO {
        interface Browser {
            browserCustomCommand: (arg: number) =&gt; void
        }
    }
}
</code></pre><p>Otherwise, if using ambient type definition files (no include section in tsconfig, no import/export in type definition file), then keep the custom command declaration the same as before, since including the <code>global</code> declaration as above will require the type definition file to be changed to a module.</p><p>Alongside with this change we also equipped the testrunner to auto-compile your configuration if TypeScript is detected, this allows to leverage type safety in your WDIO configuration without any additional setup (big thanks for this contribution goes to <a href="https://github.com/r4j4h">@r4j4h</a>). With that you also don&#x27;t need <code>ts-node/register</code> to be required in your Mocha, Jasmine or Cucumber options, e.g.:</p><pre><code class="language-suggestion">jasmineOpts: {
    - requires: [&#x27;ts-node/register&#x27;, &#x27;tsconfig-paths/register&#x27;],
    + requires: [&#x27;tsconfig-paths/register&#x27;],
},
</code></pre><p>You can read more about WebdriverIO TypeScript integration in our <a href="/docs/typescript">docs</a>.</p><h2>Cucumber v7 Update</h2><p>The folks working on Cucumber have done a tremendous job moving their code base to TypeScript, which has made our lives tremendously easier. The new Cucumber integration required us to update the parameters within our <a href="/docs/options#beforefeature">Cucumber hooks</a>.</p><p>If you have been using Cucumber, all you need to do to update to v7 is to update your Cucumber imports to their new package:</p><pre><code class="language-git">- const { Given, When, Then } = require(&#x27;cucumber&#x27;)
+ const { Given, When, Then } = require(&#x27;@cucumber/cucumber&#x27;)
</code></pre><h2>Improved Google Lighthouse Integration</h2><p>Since v6 WebdriverIO can run on the <a href="https://w3c.github.io/webdriver/">WebDriver protocol</a> for true cross browser automation, but also automate specific browsers using browser APIs such as <a href="https://chromedevtools.github.io/devtools-protocol/">Chrome DevTools</a>. This allows for interesting integrations into tools that allow broader testing capabilities such as <a href="https://developers.google.com/web/tools/lighthouse">Google Lighthouse</a>. With the <code>@wdio/devtools-service</code>, WebdriverIO users were able to access these capabilities using Google Lighthouse to run <a href="https://www.youtube.com/watch?v=Al7zlLdd_es">performance tests</a>. In this release, we‚Äôve also updated Google Lighthouse to the latest version to enable new performance metrics such as <a href="https://web.dev/cls/">Cumulative Layout Shifts</a> or <a href="https://web.dev/fid/">First Input Delay</a>.</p><p>While in v6 performance tests were automatically run on a mobile environment, we have decided to change this and make the default behavior more obvious. Therefore, if you run performance tests in v7, there aren&#x27;t any changes to the environment where you run your tests. We still recommend emulating a mobile device to more accurately capture the user experience of users most impacted by bad application performance. To do so, you can run the following commands:</p><pre><code class="language-js">browser.emulateDevice(&#x27;iPhone X&#x27;)
browser.enablePerformanceAudits({
    networkThrottling: &#x27;Regular 3G&#x27;,
    cpuThrottling: 4,
    cacheEnabled: false,
    formFactor: &#x27;mobile&#x27;
})
</code></pre><p>The <code>formFactor</code> property has been added with the update to Google Lighthouse v7, which determines how performance metrics are scored and if mobile-only audits are skipped.</p><h3>New PWA Check Command</h3><p>In addition,  we have deepened our integration to the tool and added audits for capturing the quality of your <a href="https://web.dev/progressive-web-apps/">progressive web apps</a> (PWA). These applications are built with modern web APIs to deliver enhanced capabilities, reliability, and installability while reaching anyone, anywhere, on any device with a single codebase. To test if your application fulfills the PWA requirements we have introduced a <code>checkPWA</code> command that runs a variety of audits, validating the set up of your app:</p><pre><code class="language-js">const result = browser.checkPWA()
expect(result.passed).toBe(true)
</code></pre><p>We will continue to add more integrations into tools like Google Lighthouse to provide more testing capabilities, e.g. accessibility, best practices and SEO.</p><h2>Auto Compiling</h2><p>In v7 of WebdriverIO we made using compiler tools like Babel or TypeScript a lot easier. The testrunner can now automatically compile the config if it finds the necessary packages in your modules. Usually these had to be defined in your framework options like so:</p><pre><code class="language-js">    mochaOpts: {
        ui: &#x27;bdd&#x27;,
        require: [&#x27;@babel/register&#x27;],
        // ...
    },
</code></pre><p>These settings need to be removed now as WebdriverIO automatically includes them. Read more about how to set up <a href="/docs/babel">Babel</a> or <a href="/docs/typescript">TypeScript</a> in our docs.</p><h2>Stricter Protocol Compliance</h2><p>The WebDriver protocol has been upgraded to a W3C recommended standard since 2018. A lot of cloud vendors and tools have been able to update their implementation making all artifacts of the JSONWireProtocol obsolete. The WebdriverIO projects wants to support this transition by adding additional checks to its capability configuration to ensure users don&#x27;t accidentally send a mixture of both protocols resulting in an unexpected behavior. With the new version your session request will automatically fail if you send incompatible capabilities along, e.g.:</p><pre><code class="language-js">capabilities: {
    browserName: &#x27;Chrome&#x27;,
    platform: &#x27;Windows 10&#x27;, // invalid JSONWire Protocol capability
    &#x27;goog:chromeOptions&#x27;: { ... }
}
</code></pre><h2>Test Coverage Reporting</h2><p>The <a href="https://www.npmjs.com/package/@wdio/devtools-service"><code>@wdio/devtools-service</code></a> now offers to capture the code coverage of your JavaScript application files. This can help you to identify whether you should write more e2e tests or not. To enable the feature you have to enable it by setting the coverageReporter option for the service:</p><pre><code class="language-js">// wdio.conf.js
services: [
    [&#x27;devtools&#x27; {
        coverageReporter: {
            enable: true,
            type: &#x27;html&#x27;,
            logDir: __dirname + &#x27;/coverage&#x27;
        }
    }]
]
</code></pre><p>You can also assert the code coverage within your tests using the new <code>getCoverageReport</code> command, e.g.:</p><pre><code class="language-js">const coverage = browser.getCoverageReport()
expect(coverage.lines.total).toBeAbove(0.9)
expect(coverage.statements.total).toBeAbove(0.9)
expect(coverage.functions.total).toBeAbove(0.9)
expect(coverage.branches.total).toBeAbove(0.9)
</code></pre><h2>New Docs</h2><p>As you might already have seen, we have updated our <a href="https://webdriver.io">docs</a> to give this new release a brand new face. We&#x27;ve upgraded our Docusaurus setup to v2 and gave the whole design a new touch. Big shout out to <a href="https://www.linkedin.com/in/antoschka-kartoschka">Anton Meier</a> for helping us out and making our robot on the front page so lively.</p><p>That&#x27;s it! We hope you enjoy the new version and update your framework soon-ish to get all these new features, type safety and bug fixes for your projects. If you have any questions don&#x27;t hesitate to start a conversation on the <a href="https://github.com/webdriverio/webdriverio/discussions">discussions page</a> or join our growing <a href="https://gitter.im/webdriverio/webdriverio">support chat</a> that has already reached 6.7k active members.</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[New Network Primitives (Beta)]]></title>
        <id>New Network Primitives (Beta)</id>
        <link href="https://hackers-hub.com/blog/2020/07/10/network-primitives"/>
        <updated>2020-07-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The WebdriverIO team continues its efforts to provide more functionality to its automation interface by shipping new network primitives to its API. With the latest v6.3. update you can now easily mock web resources in your test and define custom responses that allow you to drastically reduce testing time as you can now better test individual scenarios. With that WebdriverIO catches up with other popular testing tools like Puppeteer, Playwright or Cypress and even simplifies mocking further.]]></summary>
        <content type="html"><![CDATA[<p>The WebdriverIO team continues its efforts to provide more functionality to its automation interface by shipping new network primitives to its API. With the latest <code>v6.3</code>. update you can now easily mock web resources in your test and define custom responses that allow you to drastically reduce testing time as you can now better test individual scenarios. With that WebdriverIO catches up with other popular testing tools like <a href="https://pptr.dev/">Puppeteer</a>, <a href="https://playwright.dev/">Playwright</a> or <a href="https://www.cypress.io/">Cypress</a> and even simplifies mocking further.</p><p>Replacing a REST API request from a browser can now be as simple as follows:</p><pre><code class="language-js">const mock = browser.mock(&#x27;https://todo-backend-express-knex.herokuapp.com/&#x27;)

mock.respond([{
    title: &#x27;Injected (non) completed Todo&#x27;,
    order: null,
    completed: false
}, {
    title: &#x27;Injected completed Todo&#x27;,
    order: null,
    completed: true
}])

browser.url(&#x27;https://todobackend.com/client/index.html?https://todo-backend-express-knex.herokuapp.com/&#x27;)

$(&#x27;#todo-list li&#x27;).waitForExist()
console.log($$(&#x27;#todo-list li&#x27;).map(el =&gt; el.getText()))
// outputs: &quot;[ &#x27;Injected (non) completed Todo&#x27;, &#x27;Injected completed Todo&#x27; ]&quot;
</code></pre><p>In addition to that you can als modify JavaScript of CSS files as well as abort requests or modify responses dynamically based on the original response. You can find more information on all features in the <a href="/docs/mocksandspies">Mocks and Spies</a> section of the docs.</p><h2>Throttling</h2><p>Aside mocking the new version also ships with another network command that allows to modify the network throughput of the browser allowing to test under different network condition, e.g. Regular 3G or even Offline mode:</p><pre><code class="language-js">// throttle to Regular 3G
browser.throttle(&#x27;Regular 3G&#x27;)
// disable network completely
browser.throttle(&#x27;Offline&#x27;)
// set custom network throughput
browser.throttle({
    &#x27;offline&#x27;: false,
    &#x27;downloadThroughput&#x27;: 200 * 1024 / 8,
    &#x27;uploadThroughput&#x27;: 200 * 1024 / 8,
    &#x27;latency&#x27;: 20
})
</code></pre><p>This can open up interesting use case where you want to ensure that your progressive web app (PWA) stores all essential resources for offline users to use the application.</p><h2>Support</h2><p>This feature uses Chrome DevTools capabilities to enable such behavior. Therefore it can only be supported where such an interface is available which is <strong>Chrome</strong>, <strong>Firefox Nightly</strong> and <strong>Chromium Edge</strong> right now. The Firefox team at Mozilla is working hard to ship this into the stable build of Firefox, therefore support for it can be expected soon.</p><p>On top of that the folks at <a href="https://saucelabs.com/">Sauce Labs</a> working on various of WebDriver extensions that even allow this functionality to be support in the cloud. More updates on this will follow soon.</p><h2>Implementation</h2><p>With this feature WebdriverIO now always incorporates <a href="https://pptr.dev/">Puppeteer</a> as second automation driver allowing these extra features whenever possible. Moving forward the team is looking into more opportunities to enable Chrome DevTools features into the built in API.</p><p>Please let us know what you think! We are expecting some bugs here and there but will make sure to fix them immediately. While we are pretty confident with the current interface design it might be still possible that some tweaks will be applied to make it even more user friendly.</p><h2>Give us feedback!</h2><p>We are releasing this as <code>beta</code> feature and hope that you can help us identify weaknesses in the implementation and support. Please give it a try and create an issue if things are unclear or just don&#x27;t work. We hope with the help of the community and you we are able to ship this as stable within the next months!</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WebdriverIO Open Office Hours]]></title>
        <id>WebdriverIO Open Office Hours</id>
        <link href="https://hackers-hub.com/blog/2020/07/01/office-hours"/>
        <updated>2020-07-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Contributing to a big Open Source project can be hard. Especially if the codebase is large and requires a lot of context to understand what certain changes do. Then there is the possibility that tools or infrastructure is being used that are unknown. Nevertheless the project depends on your contributions and help to identify bugs and fix them. How can we overcome this hurdle?]]></summary>
        <content type="html"><![CDATA[<p>Contributing to a big Open Source project can be hard. Especially if the codebase is large and requires a lot of context to understand what certain changes do. Then there is the possibility that tools or infrastructure is being used that are unknown. Nevertheless the project depends on your contributions and help to identify bugs and fix them. How can we overcome this hurdle?</p><p>At last weeks <a href="https://openjsf.org/">OpenJS Foundation</a> <a href="https://openjscs2020.sched.com/">Collaborator Summit</a> the WebdriverIO team announced to introduce Open Office Hours that allow everyone to schedule individual 1:1 pairing sessions with the WebdriverIO contributors. This allows you to get started contributing to WebdriverIO easily with the help of people that know the code base well. We only ask you to pick <a href="https://github.com/webdriverio/webdriverio/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Afirst-timers-only">a task</a> you would like to work on up-front so that the pairing partner can be prepared for the session to provide better guidance. This is a free opportunity for you to not only give back to the WebdriverIO community but also get to know the team behind the project.</p><p>Currently we offer 4 slots a week from: every Wednesday 10am - 12am (CEST / GMT+2) for our European friends as well as: 11am - 13am (PDT / GMT -7) for people living on the west side of this hemisphere. You can book an appointment at any time on:</p><p><a href="https://calendly.com/webdriverio/open-office-hours">calendly.com/webdriverio/open-office-hours</a></p><p>All sessions will be held over <a href="https://zoom.us/">Zoom</a> or <a href="https://hangouts.google.com/">Google Hangouts</a> but alternative platforms are possible, please let us know in the comment section. Also please note that this is not a way to get individual consulting for your own projects. The time is to be used to work on WebdriverIO related bugs or features. For support questions we still ask you to use our <a href="https://gitter.im/webdriverio/webdriverio">Gitter Support Channel</a>.</p><p>We are looking forward to meet you all online and hope to find more collaborators helping us to push the project forward!</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WebdriverIO v6 Released]]></title>
        <id>WebdriverIO v6 Released</id>
        <link href="https://hackers-hub.com/blog/2020/03/26/webdriverio-v6-released"/>
        <updated>2020-03-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[If you read this and are already about to freak out because you just spent a lot of time migrating to v5, don't worry! This major update is far less "breaking" than the one last year. While all the architectural changes last year left us no choice to break a lot of things, we were very careful this time and made sure that upgrading the framework won't become a big task.]]></summary>
        <content type="html"><![CDATA[<p>If you read this and are already about to freak out because you just spent a lot of time migrating to v5, don&#x27;t worry! This major update is far less &quot;breaking&quot; than the one last year. While all the architectural changes last year left us no choice to break a lot of things, we were very careful this time and made sure that upgrading the framework won&#x27;t become a big task.</p><p>This major update is much more reasonable and contains subtle changes that will help the project further grow while remaining performant at the same time. This blog post will go into details about all major changes and will explain what you need to do to transition from v5 to the v6.</p><h2>Drop Node v8 Support</h2><p>We&#x27;ve dropped support for Node v8, which was deprecated by the Node.js team at the start of 2020. It is not recommended to run any systems using that version anymore. We strongly advise to switch to Node v12 which will be supported until April 2022.</p><h3>How to Update?</h3><p>To update Node.js, it is important to know how it was installed in the first place. If you are in a Docker environment, you can just upgrade the base image like:</p><pre><code class="language-git">- FROM mhart/alpine-node:8
+ FROM mhart/alpine-node:12
</code></pre><p>We recommend using <a href="https://github.com/nvm-sh/nvm">NVM</a> (Node Version Manager) to install and manage Node.js versions. You can find a detailed description on how to install NVM and update Node in their <a href="https://github.com/nvm-sh/nvm#installing-and-updating">project readme</a>.</p><h2><code>devtools</code> Automation Protocol is now Default</h2><p>Because of the great success of automation tools like <a href="https://pptr.dev/">Puppeteer</a> and <a href="https://www.cypress.io/">Cypress.io</a> it became obvious that the <a href="https://w3c.github.io/webdriver/">WebDriver</a> protocol in its current shape and form doesn&#x27;t meet the requirements of todays developer and automation engineers. Members of the WebdriverIO project are part of the <a href="https://www.w3.org/testing/browser/">W3C Working Group</a> that defines the WebDriver specification and they work together with browser vendors on solutions to improve the current state of the art. Thanks to folks from Microsoft there already proposals about a new <a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/tree/master/WebDriverRPC">bidirectional connection</a> similar to other automation protocols like <a href="https://chromedevtools.github.io/devtools-protocol/">Chrome Devtools</a>.</p><p>Until we have reached consensus between all browser vendors on the new WebDriver architecture, the project wants to offer alternative solutions. This is why we&#x27;ve started to support Puppeteer natively using the same APIs. We already announced support for it <a href="https://webdriver.io/blog/2019/09/16/devtools.html">last year</a> and have now fully embed it into the project. This means that to run a local test script you won&#x27;t need to download a browser driver anymore. WebdriverIO checks if a browser driver is running and accessible at <code>localhost:4444/</code> and uses Puppeteer as fallback if not. If you use the WebdriverIO API the experience using WebDriver vs Puppeteer should be the same, running commands on Puppeteer might even be a little faster.</p><blockquote><p><strong>Note:</strong> using Puppeteer instead of WebDriver is only supported if running tests locally and if the browser is located on the same machine as the tests.</p></blockquote><p>Being able to access Puppeteer in your tests allows you to leverage the capabilities of the Chrome DevTools protocol which has a much richer set of automation features. In your tests you are free to switch between Puppeteer and WebdriverIO API as you wish, e.g.:</p><pre><code class="language-js">describe(&#x27;my e2e tests&#x27;, () =&gt; {
    // ...

    it(&#x27;replaces the WebdriverIO logo with the Puppeteer logo&#x27;, () =&gt; {
        browser.url(&#x27;https://webdriver.io&#x27;)

        /**
         * run Puppeteer code with promises to intercept network requests
         * and replace the WebdriverIO logo in the docs with the Puppeteer logo
         */
        const wdioLogo = &#x27;webdriverio.png&#x27;
        const pptrLogo = &#x27;https://user-images.githubusercontent.com/10379601/29446482-04f7036a-841f-11e7-9872-91d1fc2ea683.png&#x27;
        browser.call(async () =&gt; {
            const puppeteerBrowser = browser.getPuppeteer()
            const page = (await puppeteerBrowser.pages())[0]
            await page.setRequestInterception(true)
            page.on(&#x27;request&#x27;, (interceptedRequest) =&gt; (
                interceptedRequest.url().endsWith(wdioLogo)
                    ? interceptedRequest.continue({ url: pptrLogo })
                    : interceptedRequest.continue()
            ))
        })

        // continue with sync WebdriverIO commands
        browser.refresh()
        browser.pause(2000)
    })

})
</code></pre><p>We have integrated Puppeteer so you can run &quot;cross-browser&quot; tests on Chrome, Firefox (Nightly) and Chromium Edge. Note that the term cross-browser is used with quotation marks here. A lot of automation tools today advertise their cross-browser support while not being really honest about what it actually means. All Chromium based browser like Google Chrome, Chromium Edge or Electron based apps use the identical engine under the hood. It is questionable that there is much value testing on multiple Chromium based browser. In addition to that the support for Firefox is and will be experimental as it was implemented in an ad-hoc effort by a team at Mozilla which hasn&#x27;t committed to bring it out of its experimental state and continue support for it.</p><p>We have not planned to integrate <a href="https://github.com/microsoft/playwright">Playwright</a> as we can not afford to download their custom build browsers every time someone installs WebdriverIO. We will observe its development and might consider an integration at some point.</p><p>The WebdriverIO team wants to emphasize that it continues to be invested in WebDriver as an automation standard which is till today the only true cross-browser automation protocol. We will always prefer a standards based solution that has been developed by a diverse group of people representing the industry at large.</p><h3>How to Update?</h3><p>If you are running your tests on WebDriver already, nothing needs to be changed. WebdriverIO will only fallback to Puppeteer if it can&#x27;t find a browser driver running.</p><h2>Performance Improvements</h2><p>A big goal with the new release was to make WebdriverIO more performant and faster. Running tests on Puppeteer can already speed up your local execution. But we also looked into other areas to improve. With v6 we replaced our heavy dependency to <a href="https://github.com/request/request"><code>request</code></a> which has been fully deprecated as off February 11th 2020. With that we were able to reduce the bundle size of the <code>webdriver</code> and <code>webdriverio</code> package by 4x:</p><p><img src="./assets/bundlesize.png" alt="bundle size comparison"/></p><p>By using <a href="https://github.com/sindresorhus/got"><code>got</code></a> as new dependency to make requests in WebDriver we are now technically also able to run WebdriverIO in the browser which creates interesting possibilities and was a requirement for our <a href="https://github.com/webdriverio/webdriverio/blob/main/ROADMAP.md#upcoming-projects-in-no-particular-order">roadmap item</a> to build a fiddle platform for WebdriverIO scripts.</p><p>The new version v6 will also come with a lot of internal improvements that will speed up test execution and lower CPU and memory usage. Especially when it comes to fetching elements we were able to reduce a lot of overhead and speed things up:</p><p><img src="./assets/flamechart.jpg" alt="improved flamechart"/></p><h3>How to Update?</h3><p>These improvements come for free and you don&#x27;t need to do anything to better performance in v6 when upgrading.</p><h2>Service Configurations</h2><p>We are very proud about the amount of different <a href="https://www.npmjs.com/search?q=wdio-service">services</a> and <a href="https://www.npmjs.com/search?q=wdio-reporter">reporters</a> that the community built. All these additional plugins require specific configurations in your <code>wdio.conf.js</code> and we want to make sure that all these settings are being made standardized structure. Until v5 of WebdriverIO specific options to services and reporters could be defined anywhere in the <code>wdio.conf.js</code>, e.g. the Sauce service:</p><pre><code class="language-js">// wdio.conf.js
export.config = {
  // ...
  services: [&#x27;sauce&#x27;],
  user: process.env.SAUCE_USERNAME,
  key: process.env.SAUCE_ACCESS_KEY,
  region: &#x27;us&#x27;,
  sauceConnect: true,
  // ...
};
</code></pre><p>With v6 we moved all configurations into the services list close to where the service is actually defined. This will help to maintain a clear structure in the config file while at the same time keep the set of different &quot;native&quot; supported configurations clear. In v6 the example above needs to be modified as to become this:</p><pre><code class="language-js">// wdio.conf.js
export.config = {
    // ...
    user: process.env.SAUCE_USERNAME,
    key: process.env.SAUCE_ACCESS_KEY,
    region: &#x27;us&#x27;, // WebdriverIO Configuration
    services: [
        [&#x27;sauce&#x27;, {
            sauceConnect: true, // @wdio/sauce-service configuration
            sauceConnectOpts: { // @wdio/sauce-service configuration
                // ...
            }
        }]
    ],
    // ...
};
</code></pre><p>As part of this effort we also looked into the service option names and renamed to be more short and precise.</p><h3>How to Update?</h3><p>Walk through your WDIO configuration files and look for configurations that are not specifically defined by as WebDriver or WDIO <a href="https://webdriver.io/docs/options.html">options</a>. These needs to be moved into the service list according to the example above. In addition to that have a look if option names have changed and update them accordingly.</p><h2>Command Interface Changes</h2><p>In the past we have been adding a lot of additional functionality into single commands like click to serve different purposes. This new functionality could be used by applying parameters to the command. Unfortunately the amount of such parameters has grown and caused a lot of confusion and made some commands not readable anymore. If you ever had to use <code>$(&#x27;#elem&#x27;).waitForExist(null, null true)</code> to wait until an element does <strong>not</strong> exist anymore you will know how bad things have become.</p><p>With v6 we have changed the structure of a couple of commands to allow named parameters instead. With that the code becomes much more readable and allows better type enforcement when using TypeScript. The above example looks in v6 as follows:</p><pre><code class="language-js">$(&#x27;#elem&#x27;).waitForExist({ reverse: true })
</code></pre><h3>How to Update?</h3><p>We have changed the structure of the following commands:</p><ul><li><p>affected <code>browser</code> methods:</p><ul><li><a href="https://webdriver.io/docs/api/browser/newWindow.html">newWindow</a></li><li><a href="https://webdriver.io/docs/api/browser/react$.html">react$</a></li><li><a href="https://webdriver.io/docs/api/browser/react$$.html">react$$</a></li><li><a href="https://webdriver.io/docs/api/browser/waitUntil.html">waitUntil</a></li></ul></li><li><p>affected element methods:</p><ul><li><a href="https://webdriver.io/docs/api/element/dragAndDrop.html">dragAndDrop</a></li><li><a href="https://webdriver.io/docs/api/element/moveTo.html">moveTo</a></li><li><a href="https://webdriver.io/docs/api/element/react$.html">react$</a></li><li><a href="https://webdriver.io/docs/api/element/react$$.html">react$$</a></li><li><a href="https://webdriver.io/docs/api/element/scrollIntoView.html">scrollIntoView</a></li><li><a href="https://webdriver.io/docs/api/element/waitForClickable.html">waitForClickable</a></li><li><a href="https://webdriver.io/docs/api/element/waitForDisplayed.html">waitForDisplayed</a></li><li><a href="https://webdriver.io/docs/api/element/waitForEnabled.html">waitForEnabled</a></li><li><a href="https://webdriver.io/docs/api/element/waitForExist.html">waitForExist</a></li><li><a href="https://webdriver.io/docs/api/element/waitUntil.html">waitUntil</a></li></ul></li></ul><p>If you use TypeScript in your project it should automatically tell you to all places that needs to be updated. If you don&#x27;t use TypeScript which recommend to just search for every command in your code base and modify it accordingly. It should be a pretty mechanical and straightforward task.</p><h2>New Assertion Library</h2><p>With the update to v6 you will now automatically get access to our new native embedded assertion library <a href="https://www.npmjs.com/package/expect-webdriverio"><code>expect-webdriverio</code></a>. It is a special designed assertion library for WebdriverIO that was inspired by Jests <a href="https://www.npmjs.com/package/expect"><code>expect</code></a> package. It comes with key features like:</p><ul><li>waits for expectation to succeed</li><li>detailed error messages</li><li>support for Mocha, Cucumber, Jest and Jasmine</li><li>builtin types for TypeScript and JS autocompletion</li></ul><p>This will not only simplify the setup of your WebdriverIO framework but also gets you better error messages if an assertion fails, e.g. when checking the visibility of an element like:</p><pre><code class="language-js">const elem = $(&#x27;#someElem&#x27;)
expect(elem).toHaveText(&#x27;Click #2&#x27;)
</code></pre><p>It will fail with an error message like:</p><p><img src="https://raw.githubusercontent.com/mgrybyk/expect-webdriverio/HEAD/docs/img/errors/text.png?raw=true" alt="Error Message"/></p><h3>How to Update?</h3><p>If you already use an assertion library like <a href="https://www.chaijs.com/">Chai</a> you can continue doing, especially if you are not interested using <code>expect-webdriverio</code>. However you can also start writing new assertions with the new assertion API and maintain two different types of assertion libraries until you decide to get rid of the other.</p><h2>Other Changes</h2><p>Next to all major updates that were described above there are also some minor changes that are worth mentioning:</p><ul><li><strong>TypeScript Support:</strong> we improved the typings for WebdriverIO and WebDriver to include better descriptions and more detail</li><li><strong>WebDriver Default Path:</strong> we changed default WebDriver path from <code>/wd/hub</code> to <code>/</code> as most of the browser drivers now default to this, this should have no effect for you - however if you have trouble connecting to a WebDriver endpoint after the upgrade, this could be a reason for that issue.<blockquote><p><strong>Note for Appium users:</strong> If you are using a local or global install of Appium and you start Appium through the command line, you should also provide the cli argument <code>--base-path /</code>. This will prevent Appium not finding a matching local emulator/simulator/real device and start using the default <code>path: &#x27;/&#x27;</code> that WebdriverIO uses.\
If you are using the <code>@wdio/appium-service</code> you don&#x27;t need to do anything.</p></blockquote></li><li><strong>Command Renaming:</strong> we renamed command <code>launchApp</code> to <code>launchChromeApp</code> for Chrome WebDriver sessions</li><li><strong>Spec Filtering:</strong> the <a href="https://webdriver.io/blog/2019/11/01/spec-filtering.html">Spec Filtering</a> feature is now enabled by default so that browser sessions aren&#x27;t started if the framework can&#x27;t find a test to run in the file (this can not be disabled anymore)</li><li><strong>New Hook:</strong> we added a new hook to the testrunner called <code>onWorkerStart</code> which will be executed right before we launch the worker process</li><li><strong>Modified Hook Signature:</strong> we modified the signature of our before/after test/hook hooks to allow you to access the frameworks native event objects - please have a look into the config file <a href="/docs/configurationfile">documentation</a> and update your hooks accordingly</li><li><strong>Cucumber Update:</strong> we have updated the <code>@wdio/cucumber-framework</code> adapter to use v6 of Cucumber</li><li><strong>Overwrite Capabilities:</strong> By default the launcher will overwrite the capabilities instead of merging them when using the launcher</li></ul><h2>LTS Support</h2><p>With the release of v6 we will continue to support v5 until we decide to release a new major version v7. We created a <a href="https://github.com/webdriverio/webdriverio/blob/main/CONTRIBUTING.md#back-porting-bug-fixes">backporting process</a> that allows us to seamlessly backport bug fixes and features from v6 to v5. Please note that as the code between both versions diverge we won&#x27;t be able to backport every feature and bug fix. We might ask code contributors to provide a similar PR that has been made to the <code>master</code> branch also to the <code>v5</code> branch.</p><p>That said, we generally recommend to update to the latest version as soon as possible to make sure that you leverage bug fixes that have been made to the project.</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WireMock as a Service]]></title>
        <id>WireMock as a Service</id>
        <link href="https://hackers-hub.com/blog/2019/12/05/wiremock"/>
        <updated>2019-12-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are pleased to announce that we now have a new mocking service for WebdriverIO called wdio-wiremock-service.]]></summary>
        <content type="html"><![CDATA[<p>We are pleased to announce that we now have a new mocking service for WebdriverIO called <code>wdio-wiremock-service</code>.</p><h2>What can it do?</h2><p>This service helps you to run WireMock seamlessly when running tests with <a href="https://webdriver.io">WebdriverIO</a>. It uses the well known <a href="https://mvnrepository.com/repos/central">Maven</a> repository to download the WireMock jar for you which is then automatically installed, started and stopped. Stay up to date by joining the community over at <a href="https://gitter.im/erwinheitzman/wdio-wiremock-service">Gitter</a> for help and support.</p><p>A few things you can do with this service:</p><ul><li>Automatically run <a href="http://wiremock.org/">WireMock</a> alongside the WebdriverIO testrunner</li><li>Supports usage of mock and fixture files</li><li>Match request URLs, methods, headers cookies and bodies using a wide variety of strategies. First class support for JSON and XML.</li><li>Configure WireMock with all the available <a href="https://github.com/erwinheitzman/wdio-wiremock-service/blob/master/README.md#options">options</a></li></ul><h2>Installation</h2><pre><code class="language-sh">npm install wdio-wiremock-service --save-dev
</code></pre><p>Instructions on how to install <code>WebdriverIO</code> can be found <a href="https://webdriver.io/docs/gettingstarted.html">here.</a></p><h2>Configuration</h2><p>In order to use the service you need to add it to your service array:</p><pre><code class="language-js" metastring="title=&quot;wdio.conf.js&quot;" title="&quot;wdio.conf.js&quot;">export.config = {
  // ...
  services: [&#x27;wiremock&#x27;],
  // ...
};
</code></pre><p>There are a lot more options that are available for configuration, for a full overview go <a href="https://github.com/erwinheitzman/wdio-wiremock-service/blob/master/README.md#options">here</a>.</p><h2>Creating mocks and fixtures</h2><p>The service creates a directory (<code>./mock</code> by default) with two subdirectories (<code>mappings</code> and <code>__files</code>). It will use the <code>mappings</code> directory to look for mock files and it will use the <code>__files</code> directory to look for fixture files.</p><p>Knowing this, creating a fixture is as easy as creating a file in the <code>__files</code> directory:</p><pre><code class="language-json" metastring="title=&quot;./mock/__files/hello-world.json&quot;" title="&quot;./mock/__files/hello-world.json&quot;">Hello world
</code></pre><p>And creating your first mock is as simple as creating a file in the <code>mappings</code> directory:</p><p>Knowing this, creating a fixture is as easy as creating a file in the <code>__files</code> directory:</p><pre><code class="language-json" metastring="title=&quot;./mock/mappings/my-test.json&quot;" title="&quot;./mock/mappings/my-test.json&quot;">{
  &quot;request&quot;: {
      &quot;method&quot;: &quot;GET&quot;,
      &quot;url&quot;: &quot;/api/mytest&quot;
  },
  &quot;response&quot;: {
      &quot;status&quot;: 200,
      &quot;bodyFileName&quot;: &quot;hello-world.json&quot;
  }
}
</code></pre><h2>Writing tests</h2><p>Writing your first test is really straight forward:</p><pre><code class="language-js" metastring="title=&quot;./test/specs/mytest.js&quot;" title="&quot;./test/specs/mytest.js&quot;">const fetch = require(&#x27;node-fetch&#x27;);
const assert = require(&#x27;assert&#x27;);

describe(&#x27;My test&#x27;, () =&gt; {
  it(&#x27;should assert the mock data&#x27;, () =&gt; {
    browser.call(async () =&gt; {
      await fetch(&#x27;http://localhost:8080/api/mytest&#x27;)
        .then((res) =&gt; res.text())
        .then((body) =&gt; {
            // assert that the request body returns the expected value
            assert.equal(body, &#x27;More content&#x27;);
        });
    });
  });
});
</code></pre><h1>Support</h1><p>Stay up to date by joining the community over at <a href="https://gitter.im/erwinheitzman/wdio-wiremock-service">Gitter</a> to join others and for support and questions.</p><p>See you there!</p>]]></content>
        <author>
            <name>Erwin Heitzman</name>
            <uri>http://github.com/erwinheitzman</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Avoid starting session for excluded specs]]></title>
        <id>Avoid starting session for excluded specs</id>
        <link href="https://hackers-hub.com/blog/2019/11/01/spec-filtering"/>
        <updated>2019-11-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[It's a common approach to filter specs with tags, grep or any other techniques, however we had a gotcha here before - a new session is created for every spec file which takes some time, especially for mobile tests.]]></summary>
        <content type="html"><![CDATA[<p>It&#x27;s a common approach to filter specs with tags, grep or any other techniques, however we had a gotcha here before - a new session is created for every spec file which takes some time, especially for mobile tests.</p><p>We&#x27;ve added a <a href="https://github.com/webdriverio/webdriverio/pull/4531">feature</a> that allows to filter spec files before a session is started. The feature is enabled by default for Cucumber framework only and is disabled by default for Mocha and Jasmine frameworks to avoid breaking changes. To use the feature, it has to be enabled in <code>wdio.conf.js</code> with feature flag, also all <code>browser</code> function calls like <code>browser.addCommand()</code> or any other have to be moved away from root scope. You can still use env flags, config or capabilities as before.</p><p>The following is only required for Mocha and Jasmine users who want to use the feature:</p><ul><li>Enable the feature with a flag in <code>wdio.conf.js</code></li></ul><pre><code class="language-js">// wdio.conf.js
export.config = {
    // ...
    featureFlags: {
        specFiltering: true
    },
}
</code></pre><ul><li>Move custom commands declaration to <code>before</code> hook, if you have such, example:</li></ul><pre><code class="language-js">// wdio.conf.js
export.config = {
    // ...
    mochaOpts: {
        /**
         * all the files that interacts with `browser` object in a root scope
         * have to be required in `before` hook if `specFiltering` feature is enabled.
         */
        require: [
            &quot;@babel/register&quot;, // if you have any transpilers leave them as is
            &quot;./src/wdio/commands&quot; // remove from here
        ]
    },
    before (capabilities, specs) {
        require(&quot;./src/wdio/commands&quot;) // add here
    },
}
</code></pre><ul><li>Move custom command declarations from root scope to suite level (or move them to another file and require it in <code>before</code> hook, see 2.1), if you had such, example:</li></ul><pre><code class="language-js">// my.spec.js

/**
 * move `browser.addCommand()` as well as other browser functions calls
 * from root scope to suite level (or another file)
 */
browser.addCommand(&#x27;myCommand&#x27;, () =&gt; {}) // remove!

// it&#x27;s still possible to use config, capabilities or env flags as before.
describe(&#x27;my suite in &#x27; + browser.capabilities.browserName, () =&gt; {
    // add it to suite/test scope
    browser.addCommand(&#x27;myCommand&#x27;, () =&gt; {})

    it(&#x27;my test&#x27;, () =&gt; {
        browser.myCommand()
    })
})
</code></pre><p>We are happy to answer any questions and awaiting your feedback.</p><p>Please note that the feature will be enabled for all test frameworks in v6 so it&#x27;s recommended to start preparation in advance.</p><p>Thanks!</p>]]></content>
        <author>
            <name>Mykola Grybyk</name>
            <uri>http://github.com/mgrybyk</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Chrome DevTools as Automation Protocol]]></title>
        <id>Chrome DevTools as Automation Protocol</id>
        <link href="https://hackers-hub.com/blog/2019/09/16/devtools"/>
        <updated>2019-09-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Over the last few years a lot of new testing frameworks have evolved that provide different capabilities but also come with certain limitations. While tools like Selenium are often seen as slow and flaky and others like Cypress.io or Puppeteer are hyped as the future in the testing space. In reality all tools have their own use cases, have different levels of support and are based on a completely different architecture. Comparing them is rather useless as it ends up comparing apples with oranges. In larger test suites flakiness and race conditions can happen using all of these tools so that we can safely say that up to this point none of them (including WebdriverIO) has found the ultimate solution for world /(domin|autom)ation/.]]></summary>
        <content type="html"><![CDATA[<p>Over the last few years a lot of new testing frameworks have evolved that provide different capabilities but also come with certain limitations. While tools like <a href="https://www.seleniumhq.org/">Selenium</a> are often seen as slow and flaky and others like <a href="https://www.cypress.io/">Cypress.io</a> or <a href="https://pptr.dev/">Puppeteer</a> are hyped as the future in the testing space. In reality all tools have their own use cases, have different levels of support and are based on a completely different architecture. Comparing them is rather useless as it ends up comparing apples with oranges. In larger test suites flakiness and race conditions can happen using all of these tools so that we can safely say that up to this point none of them (including WebdriverIO) has found the ultimate solution for world <code>/(domin|autom)ation/</code>.</p><p>At the end of the day there are more or less two different approaches to how you can automate a browser. One is using an official W3C web standard called <a href="https://w3c.github.io/webdriver/">WebDriver</a> and the other is the native browser interface that some of the browsers expose these days. The WebDriver protocol is the de-facto standard automation technique that allows you to not only automate all desktop browsers but also run automation on arbitrary user agents that include mobile devices, desktop applications or even Smart TVs. If you don&#x27;t use WebDriver your automation framework most likely uses the native browser interfaces to run its automation on. While in the past every browser had its own (often not documented) protocol, these days a lot of browsers, including Chrome, Edge and soon even Firefox, come with a somewhat unified interface that is close to what is called the <a href="https://chromedevtools.github.io/devtools-protocol/">Chrome DevTools Protocol</a>. While WebDriver provides true cross-browser support and allows you to run tests on a large scale in the cloud using vendors like <a href="https://saucelabs.com/">Sauce Labs</a>, native browser interfaces often allow many more automation capabilities like listening and interacting with network or DOM events while often being limited to a single browser only.</p><p>With the release of WebdriverIO v5.13 we now introduce a new option that allows you to specify the automation protocol for your test and leverage the capabilities of both worlds. With that you can now decide whether to run your tests using WebDriver or Chrome DevTools (via Puppeteer). Nothing actually changes for your tests, just the automation happens using different technologies. We&#x27;ve created a new NPM package that we call <a href="https://www.npmjs.com/package/devtools"><code>devtools</code></a> which has all WebDriver commands implemented but executes them using Puppeteer. It is a new type of plugin that even allows you to build your own WebDriver based automation package to automate an arbitrary device with WebdriverIO. The new option, called <code>automationProtocol</code>, expects a string and is by default set to <code>&quot;webdriver&quot;</code> to run automation using WebdriverIOs own <a href="https://www.npmjs.com/package/webdriver"><code>webdriver</code></a> bindings. However if you install the new <code>devtools</code> package via:</p><pre><code class="language-bash" metastring="npm2yarn">$ npm install --save-dev devtools webdriverio
</code></pre><p>and set <code>automationProtocol: &#x27;devtools&#x27;</code> in your options, all the automation happens via Chrome DevTools (more specifically via Puppeteer) while using the same WebdriverIO command interface:</p><pre><code class="language-js">const { remote } = require(&#x27;webdriverio&#x27;)

let client;

(async function () {
    client = await remote({
        automationProtocol: &#x27;devtools&#x27;, // CHANGE PROTOCOL HERE
        capabilities: { browserName: &#x27;chrome&#x27; } // or `browserName: &#x27;firefox&#x27;`
    })

    await client.url(&#x27;https://webdriver.io&#x27;)
    console.log(await client.getTitle())
    await client.deleteSession()
})().catch(async (e) =&gt; {
    console.error(e.stack)
    await client.deleteSession()
})
</code></pre><p>This is especially great for local testing since you are no longer required to download a browser driver which often causes confusion as to where to download and how to run them. In addition to that, tests will run much quicker since WebdriverIO is directly connected to the browser.</p><p>As mentioned before, you can now leverage the advantages of running true cross-browser tests at scale with WebDriver, as well as leveraging all the additional automation capabilities of DevTools in one single tool. That said, given the fact that it is not possible to switch the protocols during a session, you might want to have one set of tests that require Puppeteer involvement, while also having a second set that you run cross-browser in the cloud.</p><p>In order to access Puppeteer in your tests, we have introduced a command called <code>getPuppeteer()</code>, which returns the <a href="https://pptr.dev/#?product=Puppeteer&amp;version=v1.19.0&amp;show=api-class-browser"><code>browser class</code></a> of the Puppeteer framework. From there on you can access the Puppeteer interface and all of its other classes. Note that these interfaces provide commands that are solely promise-based and WebdriverIO does not wrap them as you might know it using the WDIO testrunner. In this case we recommend wrapping all Puppeteer command calls manually within the <a href="https://webdriver.io/docs/api/browser/call.html"><code>call</code></a> command that ensures that all promises are resolved before it moves on with other commands. For example, the following script shows how you can use WebdriverIO using the <code>devtools</code> automation protocol via Puppeteer in the WDIO testrunner world:</p><pre><code class="language-js">describe(&#x27;my e2e tests&#x27;, () =&gt; {
    // ...

    it(&#x27;replaces the WebdriverIO logo with the Puppeteer logo&#x27;, () =&gt; {
        browser.url(&#x27;https://webdriver.io&#x27;)

        /**
         * run Puppeteer code with promises to intercept network requests
         * and replace the WebdriverIO logo in the docs with the Puppeteer logo
         */
        browser.call(async () =&gt; {
            const puppeteerBrowser = browser.getPuppeteer()
            const page = (await puppeteerBrowser.pages())[0]
            await page.setRequestInterception(true)
            page.on(&#x27;request&#x27;, interceptedRequest =&gt; {
                if (interceptedRequest.url().endsWith(&#x27;webdriverio.png&#x27;)) {
                    return interceptedRequest.continue({
                        url: &#x27;https://user-images.githubusercontent.com/10379601/29446482-04f7036a-841f-11e7-9872-91d1fc2ea683.png&#x27;
                    })
                }

                interceptedRequest.continue()
            })
        })

        // continue with sync WebdriverIO commands
        browser.refresh()
        browser.pause(2000)
    })

    // ...
})
</code></pre><p>We also made sure that you can use the <code>devtools</code> automation protocol with WDIO testrunner services like <a href="https://www.npmjs.com/package/@wdio/devtools-service"><code>@wdio/devtools-service</code></a> to make the experience as seamless as possible. You can find the complete script example to run in standalone mode in the WebdriverIO <a href="https://github.com/webdriverio/webdriverio/tree/main/examples/devtools/intercept.js">example directory</a>.</p><p>We recommend only running tests on the devtools protocol if your functional test requires some sort of automation capability that is not provided by WebDriver. It also makes sense to switch to <code>devtools</code> whenever running tests locally as the test execution will be much faster. If you follow our best practices you should split up your wdio config files per environment (e.g. local testing vs. run tests against Sauce Labs or in your grid). You can now have a config that defines a set of tests that require some Puppeteer interaction:</p><pre><code class="language-js">// wdio.devtools.conf.js
const { config } = require(&#x27;./wdio.conf.js&#x27;)
exports.config = Object.assign(config, {
    /**
     * set automation protocol to devtools
     */
    automationProtocol: &#x27;devtools&#x27;,
    /**
     * define a set of tests that require Puppeteer involvement
     */
    specs: [
        &#x27;tests/e2e/devtools/**&#x27;
    ],
    /**
     * run tests only on Firefox and Chrome in headless mode
     */
    capabilities: [{
        browserName: &#x27;chrome&#x27;,
        &#x27;goog:chromeOptions&#x27;: {
            headless: true
        }
    }, {
        browserName: &#x27;firefox&#x27;,
        &#x27;moz:firefoxOptions&#x27;: {
            headless: true
        }
    }]
    // other specific options ...
})
</code></pre><p>With the new <code>automationProtocol</code> option, we&#x27;ve opened the project up to automation technologies beyond WebDriver. There are advantages and disadvantages using both approaches and with this feature we allow you to use both in one single tool. The <a href="https://www.npmjs.com/package/devtools"><code>devtools package</code></a> is still work in progress and we are finalizing all of its features within the upcoming weeks. If you have any feedback, bugs or comments on this please reach out via <a href="https://twitter.com/webdriverio">Twitter</a> or on our Gitter <a href="https://gitter.im/webdriverio/webdriverio">support chat</a>.</p><p>Thanks!</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://github.com/christian-bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WebdriverIO V5 now also supports CucumberJS]]></title>
        <id>WebdriverIO V5 now also supports CucumberJS</id>
        <link href="https://hackers-hub.com/blog/2019/07/11/cucumberjs-v5-released"/>
        <updated>2019-07-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are pleased to announce that we now have support for CucumberJS in WebdriverIO V5!!!!]]></summary>
        <content type="html"><![CDATA[<p>We are pleased to announce that we now have support for CucumberJS in WebdriverIO V5!!!!
This has been a great challenge for the project committers so we&#x27;re all very thankful for the time and effort they put into this.
So normally we would say</p><pre><code class="language-sh">npm install @wdio/cucumber-framework --save-dev
</code></pre><p>and go with the flow, but this time it is different. When you upgrade to the latest version of the Cucumber framework you also need to upgrade to the <strong>latest version of WebdriverIO</strong>.
In this blog post we want to give you some guidelines on how to do that.</p><h2>Where to start</h2><p>Upgrading to the latest version of the Cucumber framework isn&#x27;t that simple, because as said, you also need to migrate to version 5 of WebdriverIO.
To understand what you need to do we have created some steps you might want to follow which will make the migration a lot easier for you.
But before we explain the steps, you first need to understand the differences between WebdriverIO V4 and WebdriverIO V5.</p><h3>NodeJS support</h3><p>WebdriverIO now needs NodeJS 8 or higher. Be aware that NodeJS 8 will end it&#x27;s LTS support at the end of 2019, so upgrading to 10 would be better.
If you want to know more about the NodeJS LTS support check <a href="https://github.com/nodejs/Release">this</a>. This might help you convince your colleagues / DEVOPS engineers to upgrade you NodeJS instances.</p><p><em>As a side note, if you want to know what is supported by NodeJS by default you can check <a href="https://node.green/">node.green</a> and follow all upcoming changes.</em></p><h3>W3C support</h3><p>WebdriverIO is now fully supporting the W3C protocol, this has a lot of advantages, but for your existing scripts some minor downsides.
One of the downsides might be that you are using methods that are based on the JSONWire Protocol, that are not supported by the newest drivers like for example ChromeDriver 74+.
This might result in errors like for example <code>browser.positionClick() is not a function</code>. If you see this error you are using a not supported method for the W3C supported Driver.
See the API documentation <a href="https://webdriver.io/docs/api.html">here</a> to see which command is a WebDriver Protocol (W3C) or a JSONWire protocol command.</p><p>Just a little side note, we tried to keep all <code>browser</code> and <code>element</code> commands, see the link above, agnostic to the protocol. Nothing changed here for you.
To provide you some insight on how this works please check for example the <code>keys</code> command, you will find the support for both protocols <a href="https://github.com/webdriverio/webdriverio/blob/main/packages/webdriverio/src/commands/browser/keys.js#L45-L50">here</a>.</p><p>If you want to use W3C with cloud vendors, like for example Sauce Labs or Browserstack, you need to use a vendor specific prefix in your capabilities.
Please check the websites of the vendors to see what you need to do.</p><p>But, you always need to end with the advantages. So, with W3C you will now see that the browsers follow a common web standard for web automation.
This helps WebdriverIO to build a reliable framework on top of it. And last but not least, with W3C support from all browser vendors we now also get better support for Appium, check the latest post of <a href="https://webkit.org/blog/9395/webdriver-is-coming-to-safari-in-ios-13/">Apple here</a>.
So, W3C is a major step for us all!!</p><h3>Command changes</h3><p>Over the years WebdriverIO added more and more commands for different automation protocols without applying a pattern to it which resulted in having a bunch of duplication and inconsistent naming.
Even though the list looks exhausting, most of the commands that have changed were used internally. Please check the <a href="https://github.com/webdriverio/webdriverio/blob/main/CHANGELOG.md#v500-2018-12-20">changelog of V5</a> to see all the changes.</p><h3>Breaking changes</h3><p>When creating a better product and thus releasing a major version, you will always have breaking changes. We can&#x27;t repeat it enough but please check the <a href="https://github.com/webdriverio/webdriverio/blob/main/CHANGELOG.md#v500-2018-12-20">changelog of V5</a> to see all the breaking changes.</p><p><strong>Don&#x27;t only read the changes in the V5.0.0 release, but also read the rest of the changes!</strong></p><h3>It&#x27;s not only WebdriverIO who evolved!</h3><p>When you are going to use the latest version of the <code>@wdio/cucumber-framework</code>, you&#x27;ll also get the latest version of Cucumber. <strong>This means you also need to look at the breaking changes between CucumberJS 2 and CucumberJS 5.</strong>
Please check the <a href="https://github.com/cucumber/cucumber-js/blob/master/CHANGELOG.md#300-2017-08-08">changelog of CucumberJS</a> from version 3 till 5 to see what changed in CucumberJS.</p><h3>Migration steps</h3><p>So enough about the differences between V4 and V5, please follow the steps below to make the migration a little bit smoother. The idea behind these steps is to migrate with small baby steps.
The advantage of doing it in small baby steps is that you also have some time to look at your code again and maybe refactor it or remove duplicate and ugly not needed code.</p><h4>1. Start with a clean project</h4><p>We advise you to create a fresh new project which you can easily copy to your old project and migrate 1 feature file and it&#x27;s steps per scenario.
When you do this you can easily disable scenario&#x27;s in your old project, and run the new migrated tests in the new project, maybe even embed it in your pipeline.</p><p>Before installing dependencies, we need to initialize an empty NPM project (this will allow us to the cli to install needed dependencies to our local project).
To do this, run:</p><pre><code class="language-sh">mkdir webdriverio-test &amp;&amp; cd webdriverio-test
npm init -y
</code></pre><p>The <code>-y</code> will answer &#x27;yes&#x27; to all the prompts, giving us a standard NPM project. Feel free to omit the <code>-y</code> if you&#x27;d like to specify your own project details.</p><h4>2. Install WebdriverIO CLI</h4><p>We recommend using the test runner because it comes with a lot of useful features that makes your life easier. With WebdriverIO v5 and up, the testrunner has moved into the <a href="https://www.npmjs.com/package/@wdio/cli">@wdio/cli</a> NPM package.</p><p>Now we need to install the cli. Do that by running:</p><pre><code class="language-sh">npm i --save-dev @wdio/cli
</code></pre><h4>3. Generate Configuration File</h4><p>We&#x27;ll next want to generate a configuration file that stores all of our WebdriverIO settings. To do that just run the configuration utility:</p><pre><code class="language-sh">npx wdio config
</code></pre><p>A question interface pops up. It will help to create the config easy and fast and install all needed dependencies.
Check the file and read the comments, some things changed so reading them might help you understand what changed in the configuration file.</p><p><strong>NOTE:</strong>
If you were using a compiler in your <code>cucumberOpts</code> you need to be aware of the fact that CucumberJS removed the <code>compiler</code>. This means that WebdriverIO can&#x27;t provide you with this option, but, as you might expect from our hard working contributors, there is a different solution.
Please check <a href="https://webdriver.io/docs/babel.html">Babel</a> or <a href="https://webdriver.io/docs/typescript.html">TypeScript</a> for the new way of using a compiler.</p><h4>4. Create the same folder structure</h4><p>Now that everything has been set up, it&#x27;s best to create the same folder structure you now have in your project.</p><p><strong>DON&#x27;T COPY THE FILE, ONLY THE FOLDER STRUCTURE</strong></p><h4>5. Migrate feature file per feature file</h4><p>When you have the folder structure, copy <strong>1 feature file</strong> to the new project. Start with the easiest file and if you have more than 1 scenario in it, comment out all scenario&#x27;s and leave 1 active.
Now make sure you migrate the steps that belong to that specific scenario, including all pageobjects that belong to the implementation, to the new project. Keep in mind that there are breaking changes in WebdriverIO in selecting elements and so on, see above.
If you were using the <code>defineSupportCode</code> from CucumberJS, please check the <a href="https://github.com/cucumber/cucumber-js/blob/master/CHANGELOG.md#400-2018-01-24">CucumberJS changelog for V4</a>. That is deprecated now.</p><p>Do this for each scenario, migrate it step by step, if you face issues, fix them and proceed. And don&#x27;t forget to clean up the coding mess you, or your colleagues, might have made in the past.</p><h4>6. When you&#x27;re done</h4><p>Because you created a clean project you can now easily do the following:</p><ol><li>Remove all WebdriverIO V4 dependencies in your old project.</li><li>Copy all dependencies from the new project to the old project.</li><li>Remove all test related files.</li><li>Copy all new test related files to your project.</li></ol><p>And you&#x27;re done, time to party.</p><h1>Support</h1><p>If you need support you can find us on the <code>WebdriverIO</code>- Gitter channel by clicking on this link <a href="https://gitter.im/webdriverio/webdriverio" title="Gitter chat"><img src="https://badges.gitter.im/webdriverio/webdriverio.svg" alt="Gitter chat"/></a>.
When you ask for support we only have 1 question for you, please provide us a detailed description of your issue, what you already did and so on. Otherwise you ask us to find a needle in a haystack and trust me, that will be very hard for us.</p><p>Happy testing!</p><p>Grtz,</p><p>The Blue Guy</p>]]></content>
        <author>
            <name>Wim Selles</name>
            <uri>http://github.com/wswebcreation</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[File Uploads with WebdriverIO]]></title>
        <id>File Uploads with WebdriverIO</id>
        <link href="https://hackers-hub.com/blog/2019/06/25/file-upload"/>
        <updated>2019-06-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Testing an upload scenario in the browser is a rare but not uncommon case in the automation testing space. It is always important to evaluate the importance of such a test because in many situations you end up testing the browser more than your application. So always keep in mind how much additional functionality your frontend application puts on top of the default upload behavior of the browser. If for example most of the magic happens in the backend it makes much more sense to mimik an upload using a simple Node.js POST request using packages like request or axios.]]></summary>
        <content type="html"><![CDATA[<p>Testing an upload scenario in the browser is a rare but not uncommon case in the automation testing space. It is always important to evaluate the importance of such a test because in many situations you end up testing the browser more than your application. So always keep in mind how much additional functionality your frontend application puts on top of the default upload behavior of the browser. If for example most of the magic happens in the backend it makes much more sense to mimik an upload using a simple Node.js <code>POST</code> request using packages like <a href="https://www.npmjs.com/package/request"><code>request</code></a> or <a href="https://www.npmjs.com/package/axios"><code>axios</code></a>.</p><h2>Find and expose file inputs</h2><p>Let&#x27;s say our frontend app does a lot of things on top of just uploading a file (e.g. validation or some other frontend side manipulation of the file that is about to be uploaded). Now the first thing we should do is to find the input elements from type <code>file</code>. Be aware that apps build in React, Angular or other frameworks often hide these elements as there are hard to style using pure CSS. Therefore they hide the elements and mimic the input with a <code>div</code> or other more styleable HTML tags.</p><pre><code class="language-js">// Two hidden input elements, 1 for single file upload 1 for multiple.
&lt;input class=&quot;upload-data-file-input hidden&quot; type=&quot;file&quot;&gt;
&lt;input class=&quot;upload-data-file-input-multiple hidden&quot; type=&quot;file&quot;&gt;
</code></pre><p>In order to become capable to modify the value of this element we need to make it visible. The <a href="https://w3c.github.io/webdriver/#interactability">WebDriver spec</a> defines input elements to be interactable in order to <a href="https://w3c.github.io/webdriver/#element-send-keys">change their value</a>. So let&#x27;s do that:</p><pre><code class="language-js">/**
 * The css class name &quot;upload-data-file-input hidden&quot; is just an example
 * and you can replace with your app.
 */
const fileUpload = $(&#x27;.upload-data-file-input&#x27;);
browser.execute(
    // assign style to elem in the browser
    (el) =&gt; el.style.display = &#x27;block&#x27;,
    // pass in element so we don&#x27;t need to query it again in the browser
    fileUpload
);
fileUpload.waitForDisplayed();
</code></pre><p>With the <a href="https://webdriver.io/docs/api/browser/execute.html"><code>execute</code></a> we can simply modify the element properties to either remove the <code>hidden</code> class or give the element displayedness.</p><h2>Uploading the file</h2><p>Unfortunately the mechanism to upload a file with a browser highly depends on your test setup. At the end of the day the browser needs to be able to access the file that you want tp upload. For the local scenario it is super simple. Since you run the browser on your local machine and the file that you want to upload also exists on your local machine, all you need to do is to set the value of the file path to the input element:</p><pre><code class="language-js">/**
 * it is recommended to always use the absolute path of the file as it ensures
 * that it can be found by the browser.
 */
const path = require(&#x27;path&#x27;);
const filePath = path.join(__dirname, &#x27;path/to/your/file&#x27;);
fileUpload.setValue(filePath);
</code></pre><p>If you automate a browser that is running on a remote machine this approach won&#x27;t work anymore because the file that is located locally (or wherever the tests are running) does not exist on the remote machine where the browser is running. For these scenarios the Selenium project created a <a href="https://webdriver.io/docs/api/chromium.html#file"><code>file</code></a> that is currently only supported when running Chrome or using a Selenium Grid with the Selenium standalone server. The command expects the file payload to be passed in as base64 string. Since this is quite inconvenient to use WebdriverIO has implemented an <code>upload</code> command that allows you to pass in just the file name and the framework takes care of parsing it properly. The upload example will now look like:</p><pre><code class="language-js">const path = require(&#x27;path&#x27;);
const filePath = path.join(__dirname, &#x27;path/to/your/file&#x27;);

const remoteFilePath = browser.uploadFile(filePath);
$(&#x27;.upload-data-file-input&#x27;).setValue(remoteFilePath);
</code></pre><p>Note that the remote file name is different from your local filename. Therefore you need to set the value based on the remote file name you get from the <code>uploadFile</code> command.</p><p>That was it!!! Happy Uploading üòâüôåüèª ‚ù§Ô∏è</p>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>https://twitter.com/bromann</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Visual Regression for V5]]></title>
        <id>Visual Regression for V5</id>
        <link href="https://hackers-hub.com/blog/2019/05/18/visual-regression-for-v5"/>
        <updated>2019-05-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are pleased to announce that we now have a new Visual Regression service for WebdriverIO V5 called wdio-image-comparison-service.]]></summary>
        <content type="html"><![CDATA[<p>We are pleased to announce that we now have a new Visual Regression service for WebdriverIO V5 called <code>wdio-image-comparison-service</code>.</p><h2>What can it do?</h2><p><em>wdio-image-comparison-service</em> is a lightweight <em>WebdriverIO</em> service for browsers / mobile browsers / hybrid apps to do image comparison on screens, elements or full page screens.</p><p>You can:</p><ul><li>save or compare screens / elements / full page screens against a baseline</li><li>automatically create a baseline when no baseline is there</li><li>blockout custom regions and even automatically exclude a status and or tool bars (mobile only) during a comparison</li><li>increase the element dimensions screenshots</li><li>use different comparison methods</li><li>and much more, see the <a href="https://github.com/wswebcreation/wdio-image-comparison-service/blob/master/docs/OPTIONS.md">options here</a></li></ul><p>The module is now based on the power of the new <a href="https://github.com/wswebcreation/webdriver-image-comparison"><code>webdriver-image-comparison</code></a> module. This is a lightweight module to retrieve the needed data and screenshots for all browsers / devices.
The comparison power comes from <a href="https://github.com/Huddle/Resemble.js">ResembleJS</a>. If you want to compare images online you can check the <a href="https://rsmbl.github.io/Resemble.js/">online tool</a>.</p><p>It can be used for:</p><ul><li>desktop browsers (Chrome / Firefox / Safari / Internet Explorer 11 / Microsoft Edge)</li><li>mobile / tablet browsers (Chrome / Safari on emulators / real devices) via Appium</li><li>Hybrid apps via Appium</li></ul><p>For versions check below:</p><p><a href="https://eu-central-1.saucelabs.com/u/wdio-image-comparison-service"><img src="https://eu-central-1.saucelabs.com/browser-matrix/wdio-image-comparison-service.svg" alt="Sauce Test Status"/></a></p><h2>Installation</h2><p>Install this module locally with the following command to be used as a (dev-)dependency:</p><pre><code class="language-bash" metastring="npm2yarn">npm install --save-dev wdio-image-comparison-service
</code></pre><p>Instructions on how to install <code>WebdriverIO</code> can be found <a href="http://webdriver.io/guide/getstarted/install.html">here.</a></p><h2>Usage</h2><blockquote><p><strong><em>wdio-image-comparison-service</em> supports NodeJS 8 or higher</strong></p></blockquote><h3>Configuration</h3><p><code>wdio-image-comparison-service</code> is a service so it can be used as a normal service. You can set it up in your <code>wdio.conf.js</code> file with the following:</p><pre><code class="language-js">const { join } = require(&#x27;path&#x27;);

// wdio.conf.js
exports.config = {
    // ...
    // =====
    // Setup
    // =====
    services: [
        [&#x27;image-comparison&#x27;,
        // The options
        {
            // Some options, see the docs for more
            baselineFolder: join(process.cwd(), &#x27;./tests/sauceLabsBaseline/&#x27;),
            formatImageName: &#x27;{tag}-{logName}-{width}x{height}&#x27;,
            screenshotPath: join(process.cwd(), &#x27;.tmp/&#x27;),
            savePerInstance: true,
            autoSaveBaseline: true,
            blockOutStatusBar: true,
            blockOutToolBar: true,
            // ... more options
        }],
    ],
    // ...
};
</code></pre><p>More plugin options can be found <a href="https://github.com/wswebcreation/wdio-image-comparison-service/blob/master/docs/OPTIONS.md#plugin-options">here</a>.</p><h3>Writing tests</h3><p><em>wdio-image-comparison-service</em> is framework agnostic, meaning that you can use it with all the frameworks WebdriverIO supports like <code>Jasmine|Mocha</code>.
You can use it like this:</p><pre><code class="language-js">describe(&#x27;Example&#x27;, () =&gt; {
  beforeEach(() =&gt; {
     browser.url(&#x27;https://webdriver.io&#x27;);
  });

  it(&#x27;should save some screenshots&#x27;, () =&gt; {
    // Save a screen
    browser.saveScreen(&#x27;examplePaged&#x27;, { /* some options*/ });

    // Save an element
    browser.saveElement($(&#x27;#element-id&#x27;), &#x27;firstButtonElement&#x27;, { /* some options*/ });

    // Save a full page screens
    browser.saveFullPageScreen(&#x27;fullPage&#x27;, { /* some options*/ });
  });

  it(&#x27;should compare successful with a baseline&#x27;, () =&gt; {
    // Check a screen
    expect(browser.checkScreen(&#x27;examplePaged&#x27;, { /* some options*/ })).toEqual(0);

    // Check an element
    expect(browser.checkElement($(&#x27;#element-id&#x27;), &#x27;firstButtonElement&#x27;, { /* some options*/ })).toEqual(0);

    // Check a full page screens
    expect(browser.checkFullPageScreen(&#x27;fullPage&#x27;, { /* some options*/ })).toEqual(0);
  });
});
</code></pre><p><strong>If you run for the first time without having a baseline the <code>check</code>-methods will reject the promise with the following warning:</strong></p><pre><code class="language-sh">#####################################################################################
 Baseline image not found, save the actual image manually to the baseline.
 The image can be found here:
 /Users/wswebcreation/Git/wdio-image-comparison-service/.tmp/actual/desktop_chrome/examplePage-chrome-latest-1366x768.png
 If you want the module to auto save a non existing image to the baseline you
 can provide &#x27;autoSaveBaseline: true&#x27; to the options.
#####################################################################################

</code></pre><p>This means that the current screenshot is saved in the actual folder and you <strong>manually need to copy it to your baseline</strong>.
If you instantiate <code>wdio-image-comparison-service</code> with <code>autoSaveBaseline: true</code> the image will automatically be saved into the baseline folder.</p><h3>Nice new feature</h3><p>When you create a fullpage screenshot you might have some elements that stay in the view, like a stickyheader or a chatbox.
These elements normally mess up the screenshot like you can see on the left side of the below image.</p><p>But you can now add elements that need to be hidden after the first scroll which will give you a result as you can see in the right side of the below image.
This can be done by adding this property to your test:</p><pre><code class="language-js">browser.checkFullPageScreen(&#x27;fullPage&#x27;, {
    hideAfterFirstScroll: [
        $(&#x27;nav-bar&#x27;),
        $(&#x27;chat-box&#x27;),
    ],
});
</code></pre><p><img src="./assets/image-comparison.jpg" alt="fullpage-example"/></p><h3>Test result outputs</h3><p>The <code>save(Screen/Element/FullPageScreen)</code> methods will provide the following information after the method has been executed:</p><pre><code class="language-js">const saveResult = {
  // The device pixel ratio of the instance that has run
  devicePixelRatio: 1,
  // The formatted filename, this depends on the options `formatImageName`
  fileName: &#x27;examplePage-chrome-latest-1366x768.png&#x27;,
  // The path where the actual screenshot file can be found
  path: &#x27;/Users/wswebcreation/Git/wdio-image-comparison-service/.tmp/actual/desktop_chrome&#x27;,
};
</code></pre><p>See the <a href="https://github.com/wswebcreation/wdio-image-comparison-service/blob/master/docs/OUTPUT.md#save-output">Save output</a> section in the <a href="https://github.com/wswebcreation/wdio-image-comparison-service/blob/master/docs/OUTPUT.md">output</a> docs for the images.</p><p>By default the <code>check(Screen/Element/FullPageScreen)</code> methods will only provide a mismatch percentage like <code>1.23</code>, but when the plugin has the options <code>returnAllCompareData: true</code> the following information is provided after the method has been executed:</p><pre><code class="language-js">const checkResult = {
  // The formatted filename, this depends on the options `formatImageName`
  fileName: &#x27;examplePage-chrome-headless-latest-1366x768.png&#x27;,
  folders: {
      // The actual folder and the file name
      actual: &#x27;/Users/wswebcreation/Git/wdio-image-comparison-service/.tmp/actual/desktop_chrome/examplePage-chrome-headless-latest-1366x768.png&#x27;,
      // The baseline folder and the file name
      baseline: &#x27;/Users/wswebcreation/Git/wdio-image-comparison-service/localBaseline/desktop_chrome/examplePage-chrome-headless-latest-1366x768.png&#x27;,
      // This following folder is optional and only if there is a mismatch
      // The folder that holds the diffs and the file name
      diff: &#x27;/Users/wswebcreation/Git/wdio-image-comparison-service/.tmp/diff/desktop_chrome/examplePage-chrome-headless-latest-1366x768.png&#x27;,
    },
    // The mismatch percentage
    misMatchPercentage: 2.34
};
</code></pre><p>See the <a href="https://github.com/wswebcreation/wdio-image-comparison-service/blob/master/docs/OUTPUT.md#check-output-on-failure">Check output on failure</a> section in the <a href="https://github.com/wswebcreation/wdio-image-comparison-service/blob/master/docs/OUTPUT.md">output</a> docs for the images.</p><h1>Support</h1><p>If you need support you can find me on the <code>wdio-image-comparison-service</code>- Gitter channel, or click on this link <a href="https://gitter.im/wswebcreation/wdio-image-comparison-service" title="Gitter chat"><img src="https://badges.gitter.im/wswebcreation/wdio-image-comparison-service.png" alt="Gitter chat"/></a></p><p>Happy testing!</p><p>Grtz,</p><p>The Blue Guy</p>]]></content>
        <author>
            <name>Wim Selles</name>
            <uri>http://github.com/wswebcreation</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[React Selectors]]></title>
        <id>React Selectors</id>
        <link href="https://hackers-hub.com/blog/2019/04/03/react-selectors"/>
        <updated>2019-04-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ReactJS is one of the most widely use Front-End libraries in the web. Along side React, many developers use styling tools that will minify or re-write the class attribute values attached to the HTML elements via className props in JSX. These minifications and overwrites make it difficult to select the generated HTML using the WebDriver's query commands like findElement or findElements since it's not guaranteed that the class name will remain the same.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/facebook/react">ReactJS</a> is one of the most widely use Front-End libraries in the web. Along side React, many developers use styling tools that will minify or re-write the class attribute values attached to the HTML elements via <code>className</code> props in JSX. These minifications and overwrites make it difficult to select the generated HTML using the WebDriver&#x27;s query commands like <code>findElement</code> or <code>findElements</code> since it&#x27;s not guaranteed that the class name will remain the same.</p><p>Today we introduce two new commands, <code>browser.react$</code> and <code>browser.react$$</code>, to WebdriverIO&#x27;s browser object that allows you to query for a single or multiple React component instances in the page with an easy to use API. These new commands will return the WebdriverIO element(s) for the query in where you will have access to the complete element commands API.</p><h2>Usage</h2><p>Internally, WebdriverIO uses a library called <a href="https://github.com/baruchvlz/resq">resq</a> to query React&#x27;s VirtualDOM in order to retrieve the nodes. This library allows WebdriverIO to find any component in the VirtualDOM by the component&#x27;s name and also filter this selection by state and/or props.</p><p>WebdriverIO&#x27;s provided API, <code>browser.react$</code> and <code>browser.react$$</code>, methods have three parameters. The first parameter is the selector to query, this parameter is required. The second and third parameters are optional filters, <code>props</code> and <code>state</code> respectively.</p><pre><code class="language-js">const selector = &#x27;MyComponent&#x27;
const propFilter = { someProp: true }
const stateFilter = &#x27;this is my state&#x27;

browser.react$(selector, {
    props: propFilter,
    state: stateFilter
})
</code></pre><p>In the examples we will cover basic usages for all three parameters.</p><h2>Examples</h2><p>In the following examples, we will base our queries against this example React application.</p><pre><code class="language-jsx">// mycomponent.jsx
import React from &#x27;react&#x27;
import ReactDOM from &#x27;react-dom&#x27;

const MyComponent = (props) =&gt; {
    const { name } = props;
    const [state] = React.useState(name === &#x27;there&#x27; ? &#x27;, how are you?&#x27; : &#x27;&#x27;)

    return (
        &lt;div&gt;
            Hello {name || &#x27;World&#x27;}{state}
        &lt;/div&gt;
    )
}

ReactDOM.render(
    &lt;div&gt;
        &lt;MyComponent /&gt;
        &lt;MyComponent name=&quot;Barry&quot;/&gt;
        &lt;MyComponent name=&quot;WebdriverIO&quot;/&gt;
        &lt;MyComponent name=&quot;there&quot;/&gt;
    &lt;/div&gt;,
    document.getElementById(&#x27;#root&#x27;),
)
</code></pre><p>In this app, we have one component that renders some text depending on the property <code>name</code> passed to it.</p><h4>Selecting and filtering</h4><p>Now, let&#x27;s say we want to test that the first instance of <code>MyComponent</code> is correctly displayed in the browser. Well, with the <code>browser.react$</code> command, we can select this first instance and then query against it.</p><pre><code class="language-javascript">// spec/mycomponent.test.js

test(&#x27;it should be displayed&#x27;, () =&gt; {
    const myComponent = browser.react$(&#x27;MyComponent&#x27;)

    expect(myComponent.isDisplayed()).toBe(true) // pass
})
</code></pre><p>Simple, no? But what if we want to select the component that says <code>Hello WebdriverIO</code> and verify that the text is correct? Well, we can filter our queries!</p><pre><code class="language-javascript">// spec/mycomponent.test.js

test(&#x27;it should correctly display &quot;Hello WebdriverIO&quot;&#x27;, () =&gt; {
    const myComponent = browser.react$(&#x27;MyComponent&#x27;, {
        props: { name: &#x27;WebdriverIO&#x27; }
    })

    expect(myComponent.getText()).toBe(&#x27;Hello WebdriverIO&#x27;) // pass
})
</code></pre><p>In React, the props will always be an object so for this filter parameter we can only pass an object to be used to filter our results.</p><p>You might&#x27;ve noticed that in our component we have a state that adds extra text if the name matches <code>there</code>. We can select this component by filtering the components by their current state.</p><pre><code class="language-javascript">// spec/mycomponent.test.js

test(&#x27;it should correctly display &quot;Hello WebdriverIO&quot;&#x27;, () =&gt; {
    const myComponent = browser.react$(&#x27;MyComponent&#x27;, {
        state: &#x27;, how are you?&#x27;
    })

    expect(myComponent.getText()).toBe(&#x27;Hello there, how are you?&#x27;) // pass
})
</code></pre><p>As you can see, for the state filter we pass the string that equals to the current state of the component, this last parameter in the function can be any of the following: string, number, boolean, array, or object. This is because all these types are valid state types for React.</p><h4>What about <code>browser.react$$</code>?</h4><p>By now you might be wondering why we are using <code>browser.react$</code> in all the examples. Well, both commands have the same parameters and work almost the same with the <strong>only difference</strong> being that <code>browser.react$$</code> will return an array of all the WebdriverIO elements corresponding to the selector and/or filter match.</p><h2>Final Words</h2><p>We are very pleased with this addition and we hope you can take full advantage of it. We suggest you use <a href="https://github.com/facebook/react-devtools">React Dev Tools</a>, using this tool will help you see how the components in the application are called, which props they have, and which state they are currently in. Once you know this information, using WebdriverIO&#x27;s React API will be a lot easier.</p><blockquote><p><strong>Note:</strong> This blog post was updated after the v6 release to reflect changes to the command interface.</p></blockquote>]]></content>
        <author>
            <name>Baruch Velez</name>
            <uri>http://github.com/baruchvlz</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Shadow DOM Support & reusable component objects]]></title>
        <id>Shadow DOM Support &amp; reusable component objects</id>
        <link href="https://hackers-hub.com/blog/2019/02/22/shadow-dom-support"/>
        <updated>2019-02-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Shadow DOM is one of the key browser features that make up web components. Web components are a really great way to build reusable elements, and are able to scale all the way up to complete web applications. Style encapsulation, the feature that gives shadow DOM it's power, has been a bit of a pain when it comes to E2E or UI testing. Things just got a little easier though, as WebdriverIO v5.5.0 introduced built-in support for shadow DOM via two new commands, shadow$ and shadow$$. Let's dig into what they're all about.]]></summary>
        <content type="html"><![CDATA[<p>Shadow DOM is one of the key browser features that make up web components. Web components are a really great way to build reusable elements, and are able to scale all the way up to complete web applications. Style encapsulation, the feature that gives shadow DOM it&#x27;s power, has been a bit of a pain when it comes to E2E or UI testing. Things just got a little easier though, as WebdriverIO v5.5.0 introduced built-in support for shadow DOM via two new commands, <a href="https://webdriver.io/docs/api/element/shadow$.html"><code>shadow$</code></a> and <a href="https://webdriver.io/docs/api/element/shadow$$.html"><code>shadow$$</code></a>. Let&#x27;s dig into what they&#x27;re all about.</p><h2>History</h2><p>With v0 of the shadow DOM spec, came the <code>/deep/</code> selector. This special selector made it possible to query inside an element&#x27;s <code>shadowRoot</code>. Here we&#x27;re querying for a button that is inside the <code>my-element</code> custom element&#x27;s <code>shadowRoot</code>:</p><pre><code class="language-javascript">$(&#x27;body my-element /deep/ button&#x27;);
</code></pre><p>The /deep/ selector was <a href="https://developers.google.com/web/updates/2017/10/remove-shadow-piercing">short lived</a>, and is <a href="https://tabatkins.github.io/specs/css-shadow-parts/">rumored to be replaced</a> some day.</p><p>With /deep/ being deprecated and subsequently removed, developers found other ways to get at their shadow elements. The typical approach was to use custom commands in WebdriverIO. These commands used the <code>execute</code> command to string together querySelector and shadowRoot.querySelector calls in order to find elements. This generally worked such that, instead of a basic string query, queries were put into arrays. Each string in the array represented a shadow boundary. Using these commands looked something like this:</p><pre><code class="language-javascript">const myButton = browser.shadowDomElement([&#x27;body my-element&#x27;, &#x27;button&#x27;]);
</code></pre><p>The downside of both the <code>/deep/</code> selector and the javascript approach was that in order to find an element, the query always needed to start at the document level. This made tests a little unwieldy and hard to maintain. Code like this was not uncommon:</p><pre><code class="language-javascript">it(&#x27;submits the form&#x27;, ()=&gt; {
  const myInput = browser.shadowDomElement(BASE_SELECTOR.concat([&#x27;my-deeply-nested-element&#x27;, &#x27;input&#x27;]));
  const myButton = browser.shadowDomElement(BASE_SELECTOR.concat([&#x27;my-deeply-nested-element&#x27;, &#x27;button&#x27;]));
  myInput.setValue(&#x27;test&#x27;);
  myButton.click();
});
</code></pre><h2>The <code>shadow$</code> and <code>shadow$$</code> Commands</h2><p>These commands take advantage of the <code>$</code> command in WebdriverIO v5&#x27;s ability to use a function selector. They work just like the existing <a href="https://webdriver.io/docs/api/element/$.html"><code>$</code></a> and <a href="https://webdriver.io/docs/api/element/$$.html"><code>$$</code></a> commands in that you call it on an element, but instead of querying an element&#x27;s light DOM, they query an element&#x27;s shadow DOM (they fall back to querying light dom if for whatever reason, you&#x27;re not using any polyfills).</p><p>Since they&#x27;re element commands, it&#x27;s no longer required to start at the root document when building your queries. Once you have an element, calling <code>element.shadow$(&#x27;selector&#x27;)</code> queries inside that element&#x27;s shadowRoot for the element that matches the given selector. From any element, you can chain <code>$</code> and <code>shadow$</code> commands as deeply as needed.</p><h2>Page Objects</h2><p>Like their counterparts, <code>$</code> and <code>$$</code>, the shadow commands make page objects a breeze to write, read and maintain. Let&#x27;s assume we&#x27;re working with a page that looks something like this:</p><pre><code class="language-html">&lt;body&gt;
  &lt;my-app&gt;
    &lt;app-login&gt;&lt;/app-login&gt;
  &lt;/my-app&gt;
&lt;/body&gt;
</code></pre><p>This uses two custom elements, <code>my-app</code> and <code>app-login</code>. We can see that <code>my-app</code> is in the <code>body</code>&#x27;s light DOM, and inside it&#x27;s light DOM is an <code>app-login</code> element. An example of a page object to interact with this page might look like so:</p><pre><code class="language-javascript">class LoginPage {

  open() {
    browser.url(&#x27;/login&#x27;);
  }

  get app() {
    // my-app lives in the document&#x27;s light DOM
    return browser.$(&#x27;my-app&#x27;);
  }
  get login() {
    // app-login lives in my-app&#x27;s light DOM
    return this.app.$(&#x27;app-login&#x27;);
  }

  get usernameInput() {
    // the username input is inside app-login&#x27;s shadow DOM
    return this.login.shadow$(&#x27;input #username&#x27;);
  }

  get passwordInput() {
    // the password input is inside app-login&#x27;s shadow DOM
    return this.login.shadow$(&#x27;input[type=password]&#x27;);
  }
  get submitButton() {
    // the submit button is inside app-login&#x27;s shadow DOM
    return this.login.shadow$(&#x27;button[type=submit]&#x27;);
  }

  login(username, password) {
    this.login.setValue(username);
    this.username.setValue(password);
    this.submitButton.click();
  }
}
</code></pre><p>In the example above, you can see how it&#x27;s easy to leverage the getter methods of your page object to drill further and further into different parts of your application. This keeps your selectors nice and focused. For example, should you decide to move the <code>app-login</code> element around, you only have to change one selector.</p><h2>Component Objects</h2><p>Following the page object pattern is really powerful on its own. The big draw of web components is that you can create reusable elements. The downside with only using page objects though, is that you might end up repeating code and selectors in different page objects to be able to interact with the elements encapsulated in your web components.</p><p> The component object pattern attempts to reduce that repetition and move the component&#x27;s api into an object of its own. We know that in order to interact with an element&#x27;s shadow DOM, we first need the host element. Using a base class for your component objects makes this pretty straightforward. Here&#x27;s a bare-bones component base class that takes the <code>host</code> element in its constructor and unrolls that element&#x27;s queries up to the browser object, so it can be reused in many page objects (or other component objects), without having to know anything about the page itself:</p><pre><code class="language-javascript">class Component {

  constructor(host) {
    const selectors = [];
    // Crawl back to the browser object, and cache all selectors
    while (host.elementId &amp;&amp; host.parent) {
      selectors.push(host.selector);
      host = host.parent;
    }
    selectors.reverse();
    this.selectors_ = selectors;
  }

  get host() {
    // Beginning with the browser object, reselect each element
    return this.selectors_.reduce((element, selector) =&gt; element.$(selector), browser);
  }
}

module.exports = Component;
</code></pre><p>We can then write a subclass for our app-login component:</p><pre><code class="language-javascript">const Component = require(&#x27;./component&#x27;);

class Login extends Component {

  get usernameInput() {
    return this.host.shadow$(&#x27;input #username&#x27;);
  }

  get passwordInput() {
    return this.host.shadow$(&#x27;input[type=password]&#x27;);
  }

  get submitButton() {
    return this.login.shadow$(&#x27;button[type=submit]&#x27;);
  }

  login(username, password) {
    this.usernameInput.setValue(username);
    this.passwordInput.setValue(password);
    this.submitButton.click();
  }
}

module.exports = Login;
</code></pre><p>Finally, we can use the component object inside our login page object:</p><pre><code class="language-javascript">const Login = require(&#x27;./components/login&#x27;);

class LoginPage {

  open() {
    browser.url(&#x27;/login&#x27;);
  }

  get app() {
    return browser.$(&#x27;my-app&#x27;);
  }

  get loginComponent() {
    // return a new instance of our login component object
    return new Login(this.app.$(&#x27;app-login&#x27;));
  }

}
</code></pre><p>This component object can now be used in tests for any page or section of your app that uses an app-login web component, without having to know about how that component is structured. If you later decide to change the internal structure of the web component, you only need to update the component object.</p><h2>Future</h2><p>Currently the <a href="https://w3c.github.io/webdriver/">WebDriver protocol</a> does not provide native support for shadow DOM, but there has been <a href="https://github.com/w3c/webdriver/pull/1320">progress</a> made for it. Once the spec is finalized, WebdriverIO will implement the spec. There&#x27;s a decent chance that the <code>shadow</code> commands will change under the hood, but I&#x27;m pretty confident that they&#x27;re usage will be the same as it is today, and that test code that uses them will need little to no refactoring.</p><h2>Browser Support</h2><p>IE11-Edge: Shadow DOM is not supported in IE or Edge, but can be polyfilled. The shadow commands work great with the polyfills.</p><p>Firefox: Calling <code>setValue(value)</code> on an input field in Firefox results in an error, complaining that the input is &quot;not reachable by keyboard&quot;. A workaround for now is to use a custom command (or method on your component object) that sets the input field&#x27;s value via <code>browser.execute(function)</code>.</p><p>Safari: WebdriverIO has some safety mechanisms to help mitigate issues with stale element references. This is a really nice feature but unfortunately Safari&#x27;s webdriver does not provide the proper error response when attempting to interact with what in other browsers, is a stale element reference. This is unfortunate but at the same time, it&#x27;s generally a bad practice to cache element references. Stale element references are typically completely mitigated by using the page and component object patterns outlined above.</p><p>Chrome: it just works. :tada:</p>]]></content>
        <author>
            <name>John Robinson</name>
            <uri>https://www.github.com/jrobinson01</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[WebdriverIO v5 Released]]></title>
        <id>WebdriverIO v5 Released</id>
        <link href="https://hackers-hub.com/blog/2018/12/19/webdriverio-v5-released"/>
        <updated>2018-12-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are pleased to announce that a new major version of WebdriverIO has finally been released! I never thought that it would take this long (it's been over a year), but we can finally say that the new version of WebdriverIO is ready for use (and better than ever). There has been over 800 commits, from over 34 different contributors; and I am truly grateful to everyone who participated in this collective effort. With that being said...]]></summary>
        <content type="html"><![CDATA[<p>We are pleased to announce that a new major version of WebdriverIO has finally been released! I never thought that it would take this long (it&#x27;s been over a year), but we can finally say that the new version of WebdriverIO is ready for use (and better than ever). There has been over 800 commits, from over <a href="https://github.com/webdriverio/webdriverio/graphs/contributors">34 different contributors</a>; and I am truly grateful to everyone who participated in this collective effort. With that being said...</p><h2><center>üéâ üéâ üéâ Time to celebrate! üéâ üéâ üéâ</center></h2><div style="width:100%;height:0;padding-bottom:56%;position:relative"><iframe src="https://giphy.com/embed/l0MYt5jPR6QX5pnqM" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowfullscreen=""></iframe></div><br/><p>When I began to practically rewrite this project from scratch <a href="https://github.com/webdriverio/webdriverio/commit/e375d2e3a664da087a6494c3ae381f762031303a">one year ago</a>, I knew there would be problems here and there. However, I was confident that the WebdriverIO community in the support channels would work collectively to help each other out; and I&#x27;m proud to say, I was right!</p><h2>The Goal</h2><p>Looking into the history of the project, it is humbling to see how much it has been grown within just a few years. From a handful of downloads a day, to now almost 50k; as well as the knowledge that big companies are relying on this tool to ship their software on daily basis, it became obvious that the next big feature had to be sustainability. The first step was made by <a href="https://twitter.com/webdriverio/status/908013968861655040">joining the JS.Foundation</a> at of 2017.</p><br/><blockquote class="twitter-tweet" data-lang="de"><p lang="en" dir="ltr">Proud to announce that <a href="https://twitter.com/webdriverio?ref_src=twsrc%5Etfw">@webdriverio</a> is joining <a href="https://twitter.com/the_jsf?ref_src=twsrc%5Etfw">@the_jsf</a> to continue to grow as project and community üéâ üëè <a href="https://t.co/N58Iv5oC9r">https://t.co/N58Iv5oC9r</a></p>‚Äî WebdriverIO (@webdriverio) <a href="https://twitter.com/webdriverio/status/908013968861655040?ref_src=twsrc%5Etfw">13. September 2017</a></blockquote><br/><p>The next step was to implement a technical infrastructure that would allow the project to grow. By reviewing other successful open source projects such as e.g. <a href="https://jestjs.io/">Jest</a> or <a href="https://babeljs.io/">Babel</a>, we adapted a monolithic project structure to simplify the process of contributing to WebdriverIO.<br/></p><br/> We wanted to start this effort completely community driven, and began to gather [feedback](https://github.com/webdriverio/webdriverio/issues/2403) from everyone who was using WebdriverIO on daily basis. We created a [Gitter channel](https://gitter.im/webdriverio/webdriverio) in order to discuss architectural changes, and to organize the work of porting the packages into the new tech stack that was [Lerna](https://lernajs.io/). <h2>New Package Structure</h2><p>As we moved to a monolithic system we scoped all WebdriverIO packages into the <a href="https://www.npmjs.com/org/wdio"><code>@wdio</code></a> NPM organization. This would make it simpler to onboard contributors to release new package versions, and better clarifies which packages are &quot;officially&quot; maintained by the organization or are 3rd party community packages.<br/></p><br/> If you have been using `wdio-mocha-framework` or `wdio-spec-reporter` in your project please update the packages to use the ones built for v5: `@wdio/mocha-framework` or `@wdio/spec-reporter`. Going forward the version number of all packages are now pinned to each other; meaning that you should always have the same versions for all &quot;official&quot; WebdriverIO packages that you use. <h2>We Did Some Spring Cleaning</h2><p>When people proposed new commands to the API, we contributors became more and more hesitant to introduce them. There were a vast number of existing commands; and many of these requested commands provided very little difference from existing commands. This was beginning to become a maintenance nightmare.<br/></p><br/> Starting with v5 we created a &quot;base&quot; WebdriverIO package called [`webdriver`](https://www.npmjs.com/package/webdriver). It contains the bare logic to make a HTTP request to a WebDriver endpoint; and includes all of the commands from [various specifications](https://github.com/webdriverio/webdriverio/tree/main/packages/webdriver/protocol) (including the [WebDriver](https://w3c.github.io/webdriver/) spec as well as Appium&#x27;s [Mobile JSONWire protocol](https://github.com/SeleniumHQ/mobile-spec/blob/master/spec-draft.md)) defined in a simple to maintain JSON object.<br/><br/> As part of that effort we&#x27;ve renamed many of the commands in order to align them closer to the pattern that has been used in the protocol. The base WebDriver client now also returns the `value` property of all protocol command responses, so that we were able to get rid of a lot of redundancy (e.g. `title` is now called with `getTitle`).<br/><br/> Additionally, we have seen significant confusion regarding the WebdriverIO API, and the fact that it sometimes took selectors as a first argument, and sometimes not. This was causing various problems e.g. building a consistent and useful TypeScript definition for it. In the new version __we got rid of selectors as command parameters__, and enforced the difference between commands only accessible from the browser/client instance, and those from the element instance. In order to click on an element, you must now first fetch it, and then call the click command on that instance, e.g. <pre><code class="language-js">browser.click(&#x27;#elem&#x27;) // throws &#x27;browser.click is not a function&#x27;

const elem = $(&#x27;#elem&#x27;)
elem.click() // clicks successfully on the element
// or
$(&#x27;#elem&#x27;).click()

elem.url(&#x27;https://webdriver.io&#x27;) // throws because the url command is scoped on the browser object
</code></pre><h2>Website Changes</h2><p>We already had an automated system that generated the docs for our website. As part of the new architecture and tech stack we however ported this from <a href="https://hexo.io/">Hexo</a> to <a href="https://docusaurus.io/">Docusaurus</a>.<br/></p><br/> We are still in the process of finalizing this effort, as we want to continue providing everyone a way to easily [change the version](https://github.com/webdriverio/webdriverio/issues/3147) of the docs. We are also looking into [providing multiple translations](https://github.com/webdriverio/webdriverio/issues/3148) of the docs so that people who don&#x27;t speak english can better understand and use WebdriverIO. Please reach out to us on [Twitter](https://twitter.com/webdriverio), or directly on the issue thread if you want to help out. This is probably one of the best ways to get involved into an open source project. <h2>How To Upgrade To v5</h2><p>There are significantly more things that we have been working on over the last year that you might like to read about. Check out the official <a href="https://github.com/webdriverio/webdriverio/blob/main/CHANGELOG.md#v500-2018-12-20">changelog</a> to find all of the changes that describe the new version. We will probably continue to update this over time, as we weren&#x27;t able to keep a list of every detail that changed. We would also like to ask you to have a look into the new <a href="https://webdriver.io/docs/gettingstarted.html">guide section</a> and our updated docs in general.<br/></p><br/> There is unfortunately no easy upgrade tool that you can download and run to update your test suites from v4 to v5 (even though we would love to have such a thing, PRs are welcome üòâ). If you run into any issues upgrading to v5 please join our support [![Gitter](https://badges.gitter.im/webdriverio/webdriverio.svg)](https://gitter.im/webdriverio/webdriverio?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge) and reach out to us.<br/><br/> Every project is different, so it is impossible to have one single guide for everyone. However, the following step by step description will help you get closer to where you need to be:<br/><br/> - read the [changelog](https://github.com/webdriverio/webdriverio/blob/main/CHANGELOG.md#v500-2018-12-20) to understand all breaking changes - remove all `wdio-*` packages from your `package.json` - remove your `node_modules` directory - install the latest version of webdriverio: `$ npm install webdriverio@latest` - install the new wdio testrunner: `$ npm install @wdio/cli --save-dev` - if you have a `wdio.conf.js` in your root directory, create a backup: `$ cp wdio.conf.js wdio_backup.conf.js` - rerun the configuration wizard: `$ npx wdio config` - merge custom modifications of your old `wdio_backup.conf.js` into your new config file. Don&#x27;t merge everything at once - just begin with the basic setup using no services and just the e.g. spec reporter to run tests locally and work towards a full migration - take the simplest test in your suite and rename the commands according to the changelog - have your log directory set in your config (e.g. `outputDir: __dirname`) to ensure you can see everything that is going on including errors (you can later set it to a proper log directory) - attempt to run the the test suite you modified `$ npx wdio wdio.conf.js --spec ./path/to/modified/test.js` - repeat on your remaining test files - add reporters and services back into your `wdio.conf.js`, and see if they work as expected (__Note:__ it is possible that services or reporters that you have used aren&#x27;t ported to v5 yet, if so, please raise an issue in the repository of that community package or try to port it) <br/>If you have issues porting your test suite, check the issues thread to see if someone has already reported the same problem; and then reach out to us on our gitter channel. We may have missed porting / not yet ported a functionality that you have been using in your test. Thanks to the new project structure, we can quickly fix this and provide an update version for you!<br/><br/> We will release further blog articles in our new blog with tutorials on how to upgrade WebdriverIO to v5 soon. You can also checkout the excellent [video series](https://www.youtube.com/watch?v=MO8xeC-w2Og&amp;list=PL8HowI-L-3_9Ep7lxVrRDF-az5ku4sur_) from our beloved [Will Brock](https://twitter.com/willbrock) on the new release. An update to the [WebdriverIO Learning Course](https://learn.webdriver.io/) is also already in work. <h2>What Is Next</h2><p>We didn&#x27;t put put all this hard work into the project to end here. Instead, we just get started. We truly believe that <a href="https://www.w3.org/TR/webdriver1/">WebDriver</a> is and always will be the automation standard of the industry. Therefore we are actively engaged in contributing to the standard to ensure that all commands are compliant to the protocols. We also will take your common problems and general feedback back to the <a href="https://www.w3.org/testing/browser/">W3C Working Groups</a> in order to ensure that we can address major issues at the core of the technology.</p><br/><blockquote class="twitter-tweet" data-lang="de"><p lang="en" dir="ltr">To ensure that <a href="https://twitter.com/webdriverio?ref_src=twsrc%5Etfw">@webdriverio</a> is always conforming to the <a href="https://twitter.com/hashtag/WebDriver?src=hash&amp;amp;ref_src=twsrc%5Etfw">#WebDriver</a> standard, it will sends its representatives directly to the <a href="https://twitter.com/w3c?ref_src=twsrc%5Etfw">@w3c</a> TPAC meetings so you can use the latest features as soon as they are available üôåüèª <a href="https://t.co/oJbHPn99Oc">pic.twitter.com/oJbHPn99Oc</a></p>‚Äî WebdriverIO (@webdriverio) <a href="https://twitter.com/webdriverio/status/1055813210480238593?ref_src=twsrc%5Etfw">26. October 2018</a></blockquote><br/><p>After the release, we will be begin working on a detailed roadmap for the next year that allows you to participate in the progress and help us prioritizing features.</p><h2>An Open Source Project Made With ‚ù§Ô∏è</h2><p>Before I close up this blog post, I want to address that WebdriverIO is an open source project maintained by dedicated people who love open source. Often, I get the feeling that people take this work for granted and forget that there are real humans spending their free time to provide some piece of software to everyone for free. As <a href="https://twitter.com/left_pad">@left_pad</a> stated in the official Babel7 release:</p><blockquote>&quot;[...] I can only describe it as dread when seeing a message from someone online wondering why something hasn&#x27;t been released while another asks why this bug isn&#x27;t fixed yet. I want to just rush it out and be done with it but I also have a desire to take this seriously.&quot;</blockquote><p>Please always be reminded that when you open an issue or ask for a feature that you are basically asking someone to spend his time on something to give you exactly that for free! Open source project can only work and survive if everyone participates and helps out with something. We are all humans and bugs happen, if you find them, please let us know in a way that we can easily work with the information and quickly fix it. It&#x27;s even better if everyone once in a while takes some time of his day to contribute back. We are maintaining <a href="https://github.com/webdriverio/webdriverio/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22good+first+pick%22">a list</a> of well described issues that anyone can claim and start working on.<br/></p><br/> Again, this project is not sponsored nor owned by any company. It is a collaborative effort of an inclusive community that loves to help each other out. Let&#x27;s continue to stay exactly that! <h2>Thank You</h2><p>Finally, I want to thank a few people that have helped to make this release happen; and/or for being such great people in the community. First, I want to thank all <a href="https://github.com/webdriverio/webdriverio/graphs/contributors">34</a> contributors that participated in making this happen, as well as all the other <a href="https://github.com/webdriverio-boneyard/v4/graphs/contributors">328</a> people that have been collaborating since the beginning.<br/></p><br/> I personally want to thank [Kevin Lamping](https://twitter.com/klamping) for making a stellar [online learning course](https://learn.webdriver.io/) as well as so so much other great content on [YouTube](https://t.co/WX6flUsZ8e) over the last few years. As mentioned above - also a big thank you to [Will Brock](https://twitter.com/willbrock) for his [video course](https://www.youtube.com/watch?v=MO8xeC-w2Og&amp;list=PL8HowI-L-3_9Ep7lxVrRDF-az5ku4sur_) on the new release. <p>I want to thank everyone who has been deeply involved in the support channel helping people out on daily basis. With over 3500 users it became impossible for me to answer everyone on the level I did before. Thank you <a href="https://github.com/erwinheitzman">Erwin Heitzman</a>, <a href="https://github.com/TuHuynhVan">Tu Huynh</a>, <a href="https://twitter.com/fijijavis">Jim Davis</a>, <a href="https://github.com/caoxu2000">Xu Cao</a>, <a href="https://github.com/BorisOsipov">Boris Osipov</a> and <a href="https://twitter.com/wswebcreation">Wim Selles</a>.</p><p>Big shoutout to <a href="https://twitter.com/iamdanchiv">Daniel Chivescu</a> and <a href="https://twitter.com/joshuacypher">Josh Cypher</a> who have been giving talks on WebdriverIO around the world.<br/></p><br/> And last but not least thank you [Adam Bjerstedt](https://github.com/abjerstedt), who has not only been helping out in the community channel; but also for helping to push out the v5 release at the end.<br/><br/> üôè <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>]]></content>
        <author>
            <name>Christian Bromann</name>
            <uri>http://twitter.com/bromann</uri>
        </author>
    </entry>
</feed>